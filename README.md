üìù [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](apps/README-DOCKER.md)  
üß™ [Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](e2e-testing.postman_collection.json)

# –ó–∞–¥–∞–Ω–∏–µ 1. –ê–Ω–∞–ª–∏–∑ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

<aside>

–ß—Ç–æ–±—ã —Å–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –º–æ–∂–Ω–æ —á–∞—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤–∑—è—Ç—å –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–∏ –∏ —É—Å–ª–æ–≤–∏—è –∑–∞–¥–∞–Ω–∏—è. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

</aside>

### 1. –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–ø–ª–µ–Ω–∏–µ–º:**

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É–¥–∞–ª–µ–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞—Ç—á–∏–∫–∞–º–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —á–µ—Ä–µ–∑ REST API
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–µ–Ω—Å–æ—Ä–æ–≤: —Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞–Ω–∏–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –¥–∞—Ç—á–∏–∫–æ–≤ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π endpoint
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º Temperature API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –ø–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–µ–Ω—Å–æ—Ä–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ API –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã:**

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –¥–∞—Ç—á–∏–∫–µ –ø–æ ID
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤ (active/inactive)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤ (–∫–æ–º–Ω–∞—Ç—ã: Living Room, Bedroom, Kitchen)
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç health endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –ø–æ–∫–∞–∑–∞–Ω–∏–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### 2. –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:**
- **–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:** Go 1.21
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º pgxpool –¥–ª—è connection pooling
- **HTTP Framework:** Gin –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ REST API –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è —Ç—Ä–µ—Ö—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–ª–æ–∏:**
- **Presentation Layer (handlers/):** –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤, –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **Business Logic Layer (services/):** –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Data Access Layer (db/):** –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL —á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:**
- **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ, –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –≤–Ω–µ—à–Ω–µ–º—É Temperature API
- **Dependency Injection:** –†—É—á–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:** –¢—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **Fault Tolerance:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–∑–æ–ª—è—Ü–∏–∏ —Å–±–æ–µ–≤ - –ø–∞–¥–µ–Ω–∏–µ –ª—é–±–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—Å—é —Å–∏—Å—Ç–µ–º—É
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –≥–∏–±–∫–æ—Å—Ç—å:** –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –µ–¥–∏–Ω–æ–º—É —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º—É —Å—Ç–µ–∫—É

### 3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–æ–≤ –∏ –≥—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

**–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω:** Smart Home Management (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–º–Ω—ã–º –¥–æ–º–æ–º)

**–¢–µ–∫—É—â–∏–µ –ø–æ–¥–¥–æ–º–µ–Ω—ã (As-Is):**
- **Device Registry** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞–º–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ (Core Domain)
- **Temperature Monitoring** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Core Domain)

**–ë—É–¥—É—â–∏–µ –ø–æ–¥–¥–æ–º–µ–Ω—ã (To-Be):**
- **User Management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Supporting Domain)
- **Home Management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–∞–º–∏ –∏ –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π (Core Domain)
- **Device Control** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–æ—Å–≤–µ—â–µ–Ω–∏–µ, –≤–æ—Ä–æ—Ç–∞, –∫–∞–º–µ—Ä—ã) (Core Domain)
- **Telemetry Management** - —Å–±–æ—Ä –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (Core Domain)
- **Scenario Management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ —Ä–∞–±–æ—Ç—ã (Core Domain)
- **External Integration** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API –∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (Supporting Domain)
- **Notification Service** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∞–ª–µ—Ä—Ç—ã (Supporting Domain)

**Bounded Contexts:**
- **Device Context** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏, –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- **Monitoring Context** - —Å–±–æ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **Control Context** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- **Scenario Context** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ —Ä–∞–±–æ—Ç—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- **User Context** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –¥–æ—Å—Ç—É–ø–∞–º–∏
- **House Context** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–∞–º–∏ –∏ –ª–æ–∫–∞—Ü–∏—è–º–∏
- **Integration Context** - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏ API

### 4. –ü—Ä–æ–±–ª–µ–º—ã –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- **Tight Coupling (–¢–µ—Å–Ω–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å):** Handlers –Ω–∞–ø—Ä—è–º—É—é –∑–∞–≤–∏—Å—è—Ç –æ—Ç DB –∏ Services, –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Ç—Ä–µ–±—É—é—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥—Ä—É–≥–∏—Ö
- **Single Point of Failure:** –°–±–æ–π –ª—é–±–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–ë–î, –≤–Ω–µ—à–Ω–∏–π API) –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –ü—Ä–∏–≤—è–∑–∫–∞ –∫ Go –∏ PostgreSQL –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á

**–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ–±–ª–µ–º—ã:**
- **–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:** –ö–æ–º–∞–Ω–¥—ã –Ω–µ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ —Ä–∞–∑–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª—é–±–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** –¢–µ–∫—É—â–∏–π –º–æ–Ω–æ–ª–∏—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏, —á—Ç–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–ª–∞–Ω–∞–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

**–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- **–°–ª–æ–∂–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** –õ–æ–≥–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–º–µ—à–∞–Ω—ã, —Ç—Ä—É–¥–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **–ü—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞–≥—Ä—É–∑–∫–æ–π:** –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã

### 5. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–∏—Å—Ç–µ–º—ã ‚Äî –¥–∏–∞–≥—Ä–∞–º–º–∞ –°4

[C4 Context Diagram](https://www.planttext.com?text=hLLHZzeu47xdLqpHFS2gsRJNtijA9vK2Mz2nkvHahxedP8X9B3bsQZkmKNN__MQS1CB2LVTm-sGyavdl--ORxoVhc75bBdjlXDhACk6GELVOkp0qx72R2fULcz9oizNASULkjpeF2yaKVHDObqYn2SSVWoLTFJyimfnPnmrUhSVqnOkxBQXwxqt2Tq9nc4p_d8-V7gF_qCQL1KlCXrCxWT5WXnc1BOnmtBRT4hwdc3rskNzwZ4VVfj7Jm_H_RUJls85RdVFWjvDcBQimrJNVoqYXhKiDjz_bgumErf2GsP_47SyBRfWh3Lzd8ir-ahgLkamQyHUZlvwUu_MtUJnRBwPVfe-JmR3NSy993kEFq4mA9eAbXkKGG9IZAs26BE51AorHDXYCR32t-DqICMero32g3ugRjz2VjUS-_fYg18W8738DELCivHOe6pBEd50fCCp8jH9E6miTJc1uhXsN5PRvfPR-zxxNf3zisx8a5mgxH1LE98SH_HJMOG7jkpyq3MqTnqdkH5fYM6ZLROmuhdNfrNNNdtMf4cQgWIKfY5yTeCudSQPRNVVf3-573_2lpXhaZMhdwQsMXFEB1bOKKcnhP2vZxYXMLnBBbIMP27fXz5uacB2QHZ6CbdFOQTE8TXINd6sqx99BDJBx-yXj-k86dHPOXwRsWWPNJ4BSQOuXmXfdmYH1WJmgn6DmsNY3XHeQpcJW1FBhuawOOx2fGEgQOHUFzoP2keudgXbJtqwzvfRWBBFAecuIvZe6l_ieoU3zktTGucZj48J2PqrAdk39EyzweRhmhhlWzNuTCKus7YMHsZ3B2KIzpz7N1KoQMy8MOL5odqVhHNXxxi5waeqx4QRZNG2dLuAykEAoksOTKnrTtcgr5_nWBmP0Y6Pnl8p2rZ5ObgesMzIjsEvZ0mtj92dGUlACnB_MFHMyCDWzTzkC2fN6uCjxXlNS9tNffk8rOtHWhtYXZNlzYZ0ofcrBNM3hZB6ULsYuCuBlpoVdv_br4SPZAj5Jj6K6NU50xuuOSEjlRiODf_jIROa4mqXrTtE3mG36g-S9Q8_Ep_-r5PiP-jpLrLqwcHN0fytnmKwRD-r0ZpDljzUTRw_FdlbHTgjmbHHQAEV3KQMscK4wfKNflfVSEjfkN2fBkLh9geSV0F5lL91yvqMu78wNepx3eXcfRPLOY3rLN6cTms0-kOFtGt__cIVcUFVhi27vXo33gFhsGvqPuSAKzWuOohpdeL3reOFl4nxfdzu_)

–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Smart Home —Å –≤–Ω–µ—à–Ω–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–≤–µ–±-–∫–ª–∏–µ–Ω—Ç—ã), —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–º–∏ –¥–∞—Ç—á–∏–∫–∞–º–∏ –∏ –≤–Ω–µ—à–Ω–∏–º Temperature API. –î–∏–∞–≥—Ä–∞–º–º–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (As-Is) –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ.

# –ó–∞–¥–∞–Ω–∏–µ 2. –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–í —ç—Ç–æ–º –∑–∞–¥–∞–Ω–∏–∏ –≤–∞–º –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–∏–∞–≥—Ä–∞–º–º—ã –≤ –º–æ–¥–µ–ª–∏ C4. –ú—ã –Ω–µ –ø—Ä–æ—Å–∏–º –≤–∞—Å –æ—Ç–¥–µ–ª—å–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å –ø–æ–ª—É—á–∏–≤—à–∏–µ—Å—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∏ —Ç–æ, –∫–∞–∫ –≤—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ To-Be —Å–∏—Å—Ç–µ–º—ã. –ï—Å–ª–∏ –≤—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ –¥–∏–∞–≥—Ä–∞–º–º—ã C4, –æ–Ω–∏ –∏ —Ç–∞–∫ —ç—Ç–æ –ø–æ–∫–∞–∂—É—Ç.

### –í—ã–±–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞

–£—á–∏—Ç—ã–≤–∞—è —Ä–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (5 —á–µ–ª–æ–≤–µ–∫) –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ —Å–∏—Å—Ç–µ–º—ã, –±—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ –¥–≤—É–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:

**1. Go** - –¥–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- **Device Registry Service** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤, —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **Device Control Service** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Telemetry Service** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–∞ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤

**2. Java Spring Boot** - –¥–ª—è –±–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å–æ–≤ —Å–æ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–æ–π:
- **User Management Service** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **House Management Service** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–∞–º–∏ –∏ –ª–æ–∫–∞—Ü–∏—è–º–∏
- **Scenario Service** - —Å–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–∞–≤–∏–ª

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**
- –°–Ω–∏–∂–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ CI/CD –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –Ω–∞–π–º–∞ –∏ –æ–±—É—á–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–ª—É–±–æ–∫–æ–π —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã –∫–æ–º–∞–Ω–¥—ã –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö
- –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏
- –°–Ω–∏–∂–µ–Ω–∏–µ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

–î–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è single points of failure –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:

**1. Local Cache Pattern**
- –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (permissions, locations, ownership)
- –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è
- –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**2. Event-Driven Cache Synchronization**
- House Management –∏ User Management –ø—É–±–ª–∏–∫—É—é—Ç —Å–æ–±—ã—Ç–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∏ –æ–±–Ω–æ–≤–ª—è—é—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫—ç—à–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

**3. Graceful Degradation**
- –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ House/User Management —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫—ç—à–µ–º
- –û–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- Circuit Breaker pattern –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –∫—ç—à

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–∞–∂–µ –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### –ü–∞—Ç—Ç–µ—Ä–Ω –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

–í –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–º—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—é:

**1. API Gateway** - –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ API Gateway
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ rate limiting
- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

**2. Service-to-Service** - –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤:
- –°–µ—Ä–≤–∏—Å—ã –æ–±—â–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º
- –°–Ω–∏–∂–µ–Ω–∏–µ latency –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º —á–µ—Ä–µ–∑ API Gateway

**3. Event-Driven** - –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö:
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ Message Broker (RabbitMQ)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫—ç—à–µ–π –±–µ–∑ –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤
- Eventual consistency –¥–ª—è –Ω–µ–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (Containers)**

[C4 Container Diagram - Smart Home MVP](https://www.planttext.com?text=fLbRRnit5dxNhs25nLOEh0W5qXS31QfOhktMIcHBxku-1TGCDI8wGqv9ZXrriV-zv_0oDyx4JZOFpWo7_CxXkNpdaFfP6wfCLUIJxxX8yYfbv6XCgIyM2qMVtsRS7AjzfPbAf31CcBU9B1PbJWMkcMkJvdo_k7mtt-3Gu_fkKL1jc8AXJvUmWdB1rDiIyITto_zyVDnz-jVjxkRJtTNrrOVLx6moCTpaZ5o-8_Lqik8qKxGWSx8jG3bo8mj6hXAfJm1TaDdwzmrv1iN8bXTbpW-SfUI1fLoJIveSkSW0TiEKbc9sXANo6K3FoVGcF4_XvKga1BT5de-I55JGZ6cYhJXSGrBsn1EcpqcY63NuBM62AYureR2qa88RgJHC1XIYM24Doq_Jio2OfWKN86VhT5xYAzT6KLY5yjT1fFiErZtmh8BFN0ehmIgdgxAKoW3in05zklfiPkmpM5ZGVCUASbbot8qV8JZ40ALIZ2mtjoXfe-GJJq7KCspa2A28RbhpKceeEKX5SfbO-HhajSHPgwo2FQRE9_uT1TpANJ3NHGTOCw71HkSavzdHe2rf0T_WmHawGyEszlPULYAbwkGaehjgfzTokx4mFIF_dH3uLmVFZ9Ry6d2VwGdMW0c8VqDDVvCYMtoulltmRtpRGgH0w45GgnCf9HVcd2XP6HW-9xG2Mmd3dKNW0w30FWgEdq5d56h_V0-oOQyhMO1yicNA6eBCVf5vBfzXCbcjLiHk3S8KzGJtQN9GiY0xglyWFvprTk1i-S0oZ1VSXRCr2ID12ExXMawR2Q0hpIKeNp13qQld98GA1WE17RBCXTXqM2Y-Avata7vWNAGi87bITAb12xbCAfYr9QFvtF02PrcKI2Ya3Co5BNbumDs5eLZa9LYK9SR6hpPeT9hdi5Ug8TXGf4jD5tKsgYE1c5JhbehJHyooPgGjz5VwHCcsLEZ2zrAQQPZU3urIoGFFCJTe0gxNORjaPgTxbvz5obZgw6XpOydazUhO-HgZLXQOPY5_hKwGXkRK8vQPap2gKY2vnXzRF_AIAilAG0PO8QgongW9yvmOnRCCUB6RDxVY06HWL9LOjWYfqrEf08k2ETuh-OTbyRLx9su0HJ_G_PwRzRrLGvz4SbHIm3vjS5QYzXDxGfE2G4OBc-C9L0jWAR-2_zNE3AzZL66M2YgCOKvb94qeHbsDL_jkCc5DOd56sM6hFkAsKiec4fAbIotoPyKgDf1DWn4EmlMHAfO6gLlxDY1j2tRqiS9KmSFBGJ4GA4n-yj4CYrk2l5bMCBAd6dakF29Cy27PK8Ey0nMyeS4-1SQQTubljH-WljLxMzAaDfbYs_kxBxEV0oJcLA91Erpeya8FsAyc9Qj0mqTXexRaYKDUVNRAxC0dSqXq3jPeaH7fg73ao5Yd0N58ILPIdug6jefpT5oS6WPg-N90bcKSAonYcY5fNqilGo832rYfDPcqRTcL6VD880_C295ohu5hZmB5WE3_JIRV4sl3MuWlHHCxSVB0ydOJsEaE7hNjYlQBGkx1VF2n7EZth2LskyrsyN2rtO4aXFJjNGUksz95oq2zLZj2Z6mr2xuLkRAjo0PR4I-cXH_LhcKJ1O1HkT08hMm8YQ16H_aMQbo4mZRi5rTIcyRm1RIeTN6Fe9d5yIcgGxluEhYcAV5FkkdEeTYdkkv2Ni8Rw3SU60M0-eFZkXTWuYePR4QRw8tYfnK7jUCX2C27N3M4QeNrpJX0Z5jiW88XWc79FnkI2mI7S-_l5jSV7zP-Ax4LkfJdeTkDLPlpo1saDe5JXP69xUaGin-SDQjvC1kTDWQwt1NK-tMpz4XHG3QavR760hEB4pcfoqGEYlROfWi3dcgEbN2USjtThEa9pbhUggDqiFY704dRDRwknozPirlIQvxn5NmK9Z9b5yV-Z-OqTTGFmlIZSGG5P2s2FxuC60VW8AItLIZdet2nfuVGi20yiMvQHd3WyVeeVTkSbbnMTi_10roojMJarGugh-ztkyMbN6wcWz7IFrn7V6RN8t-CU2E-3FY56RlZSDwlp_TCA9uSCHG6EEaAk-FvIe6H15JmLkTCPlQ4YxSkTf8UysA_LTzK-vphOwylicsutTfoVJzYbN6aTW9z2Qenq8jOoarrUns4Z19f7BER1mj_8Xn4xMVvE2ZEN3IjtJ1Sb0Pzl6srrudYUrztN5iLOuLO87v-QJF01f3ZmSSoHVQoGdioelf_qwM5v4X5DkAtGQYczc_gxGUZVWNOGBAwdFicrUBw_n6xIttavJVeDdmdKLaZlmfWx1vX3A9fGEP6piEHhPVoAwxmhYMXERHRUsQU6T22zdtB6K3qJsPFDEUfDoKk6Y-DhV3utIrgSf5zndPHk7k6VWyMU_5bm7RrwED5VepWhfcfaRY052ZghgNVqeMZJQkbQEmm8gc9xfq_v8JbUEfsOlr1vbNwZ_QthPfa4ncR7GWCcbTZ-xaLSDA2AeYDARcJDCKZ_6nhVomeoKUHduRPDWx6WEHkMtA0weex9_ymDDC_JTql4ULmHOYo9C2sJhpV33wkj4zdPI-mNuyVEs9SHCD0NsUWoFkZ9fA1dVuFy77ztIyWtb2l5X3XHTetgMpF-lKcNeIV20cqjvS6Ccdovath2i__F3HuYNVnvira7bYjSqbt0QEfFMM7Iq2RGlLzNAUd1upsbTk5vLLmRhDG3r-yXJOS05mhbhfMp4M5ut9DdZWbuRuJPdwGH3unDMSYWqCPGx40ElSyxOLo0Qg9nEgsOffd0gQX9Z_EI_jZ5Uw0vRAqxPbXj23iSE091nu-JQ0X9MZGoUHdUAoAdFmD)

–î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–∏: **Device Registry & Control**, **Telemetry**, **User Management** –∏ **Scenario Service** –∫–∞–∫ –≥–ª–∞–≤–Ω—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —É–º–Ω–æ–≥–æ –¥–æ–º–∞. External integrations –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ Device Registry –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è MVP.

**–î–∏–∞–≥—Ä–∞–º–º—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Components)**

1. **Device Registry Service (Device Context)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=ZLTRRzis57xth-2C0Kk0j7xfqu01TUpKpPQqZksk6p0WeALZcGX5QYHbnntsttTuaKHTx3KFGNH8VkVsdKlUQqELANC--e69X9SfaBqnXVvvCb7q-3PZPbzkImqgaSA0C6yJcKyAJeLzyqQRbBFjPFRkpTAAlZm-J7Ag3IWKFSzaNaXXtnGMV_Gm_VFpbytpr_lDn-U7kyNTf_dLzMXacE50Pkz8VPtC6SqKpSaRCeS3Iu2i86FQg1DPWtA2gt0miqQz6hovPdd1sOv1IcOqsJEH8ROzfao0kg85Mr03Htgw8UFfyfw4hp5-_YP5DlcqkF_qX_rQoTA09Wh-Ba4RJOmaEKkKr5wr7bz7iAapmtuhoV5nP1OAAdCjx4AEctECOKv5gWd-8fW00mI_QGOvkjzIO82Z45t7nvlgxpvkSvHIGn6VSqWCaw85fXCGL34PdkExTP34YB_I0oNhGc48oQsKnigcfP4vjO2a0ca7OY-H8u-r3_ZaevMGHlH_Alnz6n0k4w-gYGcvyZGjY3w9X4Z1JzUeVxG-8TdovxjNSuKq02Ketq1UJ0k6Y7T1Ggm853Mb0eAvjzg-0ZLxK4wVYOvj-COnSvvlPIbIgauXrnKLcsHsoJc-9l-C2FxKX0vFlLNXLR1ZmGJvW5o7erGlZdvtwuqz93kfI1heWaPncKNn-4lKjQ6yUXUnI8nie8uBizMNUIGtfmA6WJHGbUnTH7QCO-WmEnWAwqd7dM2FpwsAQ1_i30SDFMSIGujT10EgDUOtOyc0VqFM3rhgV4XXnmIpNklew40vIprxLCd17LLcIPLHmRxHK1U3ZYLxQDooZGJwtgptL66RSPSx1ZeIJse2-sAqzxmTza5Pe1GRp4x9dC017peZNVy2ijaya49obZ1l-mVA-POcBxODMLOa-As7ZQyAu1vROkRv41T196vSYOJaYAsUL21McJEWKpiauIpuMfMGSnA4Oic-awSTK_aHOrNvR8-MMCO2kga_uvA_zBlFgOoOLejwhJKYW6No0McyOqctEh015oZRCixCYM1QaXTldP96OlUCOApueKfeX7vrO26tr_RAAYh3wDgPLDcqByijPthlc7Pd1QIMD5xvWy8Vs7Pfnn4M4NAER9Ly0NMc5KJKglZlin0TL8MF0wZK60KgilWu9aUuumylEBKkjpfHR1jvrOYwRcb_KjJPAfJ42Ojj8XieffxvqyHU9aZFdE6ZZi-srfXevz6hZRlRlr6hdsyxFNw-7UZoyrlhm59gaobOFpt4Ozq7-gPkNpUkLUcRfgnmYzgnh3KxKQrs7SNPtFGNz-b60gHCkyO3pat4Qtp6ZvtRLOJX9q9TIF1nc6FDW0wakNMSGQp7G28lS6heTilCurEK7wE0vfPrDZb9tBxiZFo9rCs58LKKTHk77gs0j_QjUFhvPgexvU_c_sQpN4_i-4Di2z7PhMAKKFuD3hnYSa3uxS8Y1I3YaA8bwY9AbROEYCFexKunqW9C3S84JhQyxhCn3aPitLrZ8bSTLd-HkhTJpbB7nPzBcX9Va1QehUA6_6XefdyPLwTEfwtZGBvgm-xbAx9WOBfpo5oSsYFSbxF7sb6_6dUm-Wsy2NgrOP-3wTfn2Il4NXUGV3VUcNdf1ba3MV7Xkn2xRRtwMzShN6YW5oCNkTXPI1g7wwvOJw7lnhnWPJJUBXlQjgl761oZ1vOwj_5UUZQ8ICwvtHuq6ePFBwIzrPBNU7smXs0xdYm-hnxFkJw0jGAQwjxQs06pXTlyV-aBqRVQWMYqcxd3dnmLC_rmkCPUxnm3BJNGqciPv6l_lvuFO1n_Zz5wDj28kek5Lz6XHdTeD4of-cxDakdZqp96Rirsk-ktneVJra7lxmyhI80TKDk-lGdqjDQsnyyxjNDVxGAW9zKEVhPmHkz1f6NEoNy0)
2. **Device Control Service (Control Context)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=bLTPR-Cs47xths2D0dM0PFsoJmiKs5oRk4ssJkJq00e454LRH2XI9QaatgB_lJCaTSj8Da1WSuQSyvl3dwsZnbM5dFqW59DLnadkN6a_BPU6ldpO2PTNQMMvOLevhjm7fejbAQd2DoVMPLAao_EF9siaFTpUB0jg7JT0UZpNHQaLlYbH_kpczA_V7ZQFVwmsruytbrUNNoyMHxEP4qvoSlwHDDV9XQ0xGmjoGYxuis301Tr6Iv9muy-Bce2V_DN1pKGKfHHRmJDoJbakr0va8viAnSs2bkAAElv2zyTaVhfUaNYQm_5NhNRBhrUhht_YwLvNZbjY-3yLjyuIfqaXcD4swBRpeuxOpDjtptV2EeEYey4rfROO1L_fUNk1KKUbtX6gCb9mHpCuzoHZo6-feZjUG4ZWuGCGI4lfIlw5FbEIb0QS9cTQktbzdLOkXxi2j0cjo2BakYHshnZHIkwFUZfp3LfxIg-HyXrQRtHKLRHFfhNEaZtWf7YyV7KBMy2541WBGX8ynjHRbBhI6n8YRJyHANQvWsixI21yC5fmG-6BvSfgW-bfFNeyqvNAgDd7H4NOj6aO06j-HFwT4VXhiBXWuSPfAU1LVHq0v3Cg5Fa2GEKlsZnvx5mc6sIIhJRHOX85_AqQD4C55PXthh9I2-LiXmUnSfm0z8pWddxFgJnnecW44NZ1pPOoZkmpwbXET0anmBYZ-sZ_o0clyHh-9JVUaM12fBJmh1cbqH1jYxd5upEL8lCQK6bzQPeAnbVmhaio76i1y2vOdsmhwJgwfgttCGaOD6tg4X-fI1xLLuXZYq9K6ruW2dEZbVZMM1uOBBIDbf132Mkp3nQhhHJCeSbQLlXmsbRAq1NiG1sBJptHzwK9YvES6kXQp7CHE93CGa0y89sesrToXmPnr4zLYQoct8BQGK9yI-HHS0iHP7sXKgQKFM5tGxmoE1_0ZW408luYzWD-MbIsvDQZbfkrYAzKR4Ee__PkinbJrqOxpG3Yq0vB0BcDeLUS3PgAbm4Umv4OQDW7iHEBvl8P3kigbSBctW5F80sbjJqmoi10-6F_ZvfIev-u6LKhowa2BiUNjejl_igPnqgF5wfuIuMiJFTLqnqQVmDlsZ7FIwhKCYFIZaijQUYJ3Pmo0APNupxu3S98LMReLslQ46STTpouXEeZBoZS2Wb93AdvhzELBz9-E_OonZtPamESCc67jOsjlzDmuBqPTShXK0N5rXTRhJ6MtbXJmaEj7NSBxvXi_LQWdDp7IC3ZqUIEQ3dpO05PDKu3mQkXQIhSxLqdDmwiB-fk6oesPC4Fj9y8Z4bk58tTdtfysDazbxtDPcfOsNfqehRhpMQTB75CWLXytNqnMcP-3qdbjGW0DB2u2lCVPTMYmC9aEEL7yaShpKe99y2dVdEZML_wCVdHqPtzUHxtY0dBnujBBJe2rlYbuNt2mPULYj5cpKuwYdjN_sY-haDfGUGYouPgR8UtdN1ZCEZ2joRuddjOJD-2WQY7WANlap7P-HFOMjxZLL_Kv5XiuTK1m269VOUcJGFalU5YNyeRLWNsUrqyD6dgxxRT-q9RVvU9RqiDC-YmJ81pQDAup60VMYJmGyblCW1jAr819rWsfxHFjcd_sKUbRPfdCyCFH6bIOWAMTUBZ-_b1YLD9wtTrM3-oBgP2FvqK2C6vc5XHlA8fZ0r_gOoA0HUR9RQNEfkz1mTsgL8R5n9PZOHWxn-i9Ds-CGJ6SFXqqHU6OekKqzkxdeRUWe2BQ6yEUQq3yUCbv9upBfvx9RtiBGqTnIXm966o9bVrVi7jCfhJ9dK4-C-GbQgGv7y0)  
3. **Telemetry Service (Monitoring Context)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=ZLVRRkCs47ttLx11WIP0l7xPfm85recpYTjucyJUNe020IqnCX6AL4agYRVeltTcA8cYP7StJz6GS-6PCnT_S9vRNvTgyftKcQfpmNRUL-x7sSportU5zBjwMpjXCwEzqFvTPifPfRX6dQdpkPBRsUNxwHsAFgzkPoLtNbWGFLwQiZ8QTIgqFxcT__dhvytZxylDpUFjrVNLfyNfsMJYfLU2NRvdtNMsaBoml6HJjX5AbCBRFLiB-o8pmKvNHajlhDG5Q418RnxkhMLPAVaaHSukURQ3Gx2CnrngOKzv9Q-v5wzyVyvEvdTBrdoTmESlHXUpJzVBJt_WruEflN3CYhzhuRnZth1IPjQuuDwTdFNCvW9b3wAG3a84xGK9M2jfWqR3r-OaNe0dyPnxpbwual2FD3enx3AXkPMcqGV5TIFfc_oPlt2shWYA2sCynIzuxfWJsXdBoCKJ_6DhDGXzPo2dAwvv0VXg3vetA65Hz3LFjoQZm5aPLKu3cIhczZfZHglz6NYThFT0YVBnwisVkX8k11GSFWi_MVEDLfTcqqJl6DSv8CLTJNvpqIOWFkFnmjGwvtP_wbkYHCX6t3avO_zC6FnrJ8jgyqecAa0IofhKx2DGKRmQ-qpuNgqtU4YmTjg4z5zwoXQ8E507H4BdbP7QEvH3MjJKorA4d00v12_fv0QO0cpEk0f7F8D7qibSSxNtCdFH53mUunyy0lKkZL8Y0qj8ChJJ2IBvrZrMPE4OyeUkLlURJP03qi3xHhn8AOgYEsky0MMsW-mekDtTqyQMSFLBo-O3WQg6CbYY3VbidqaaRoZOZtl7BHHsHgUHRUIPI35LaOjL1K4HVf6WRRKfOvxh2i-eNuZ6fAc4fPkazf4hjUNPCvO-9Xeoeuu0Zmc5nY250rWmRGJ_1gJJ86QTFBwcVqnHLU5E7qjU55OKFCa3zDtAuhqWcsi3S0FpX8zvf8jMO9_6XrT6oKoA8z7pbbzNke1YmixOCIw8Oj0NtCcCTHfKcb8xMUm2lzSUWWNU88tfbfCatrZWRXhZN0ae-KBe1lHUsG1z_1xJ1VLm3FAsvAvUuFEktYhfTiGY4h1E4cCF1rKum4w2FHs011gnhJNFmb89KAC9RKoWHeX_1v3lZCePnx1T7_buA-BMOd8uUD9OrrkNMRdj1Hr5mwXTEAaedGXwIfQEudK5L1Aza9f1OyCa2fVYQIWqgTFQ3YwVf8Bv3GxW3V_sUkrY6y5VR9DcYUdRSaTyMUedLRyjBePKBtlu8ktFso6remQuxqydSEMevYdEs07eCqovNBhGqgWWO9H03PUo_NYY-QqzP2dqKr16fya8R3XmGHG0Mwk64q50RlXsA_tglfSFQjn88an6Q1y1UnfCFp2OSS827G1S-8SJwztaGQXa1ncCdViwO9JE4_HwizdShMSuTC0yMXbj1WDJe_dVMkaRINL6MynlWHNOdz9rPMWBthiU3lm33iQxnX9ME0aWTNqx8AaCprCVv-nxpmltqqcpM0IdIzs0d7KhumZkD8J3dRh5lIcgbYHKWy7Y4myhnzZYk7jU2--Y-9YLmR0-71XCQiWYxD__6z30r97fEifcU-_eEm-5D7vkYF4ReJjayaYy16CaHbZnlnNDezEX_JzjHA4Z7ZC-UlEtc8ypyhXneF0Yh876mgkFGvGst3LSnounM23wNPVTGg3TalRLTv3PjWfswIQQcBsdbVQMwwA6W9lIZx-vGlc6Laik3-SsRUhKgcQlLY8toK8a4JNu_ZiGia1VgFcorZBO3pqn-Kqnt8O3JmST4HVUsQMPtpLTUx0YfFK-pFPmSCJanmOUapzVtITUaf6EloAIAKAU1mx6QyE3o8Hy4R5EParjZzoYkP7-aSfRjlk0SBCcd13SGGv_05pXPptx3m00)
4. **User Management Service (User Context)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=ZLTRRzis57xth-2C0Kk0f7hfKu41TUmWSUQaJkoq7J0We2LQ9YgH6aabzORzzvt3YoZ9IfmyEERbVEVodGlzMHkgJ5qMer-uI8iwOsHdJAK_9OcYBnzoRdRrfjPCfL8O9io7L9P9LL21CkVQP0NV9DEFvqlSUhnT92NLXYdOUfhAif82PIh47oqcVtvvN3zzcw-ldnQNLvTtivFJqSXmKp0o_KYQwsJ6QQveISx98oWcjrJGd9LuicBgcQUCdCmpM7Ap1oamwwU1kojULWNVSfQHAKrtNEI0ZiUK2wPEQCMlg64lT7z6nfFbdFZL69P_I94dTrVpk--uUf2rOPeezdVDjD74I5BoL4djbElnQGisOxY7QoKB49xPDV4RmM24lPBuEHVSS5gGYgcIQysbq0H2g-kIgGwmJfcWYakF0A8hlzC6lQ7FbAmg1TwI2obDMuLy0HozuzMmWfq4McDiGV0QTmR2_PeYoqxKyamBdb43BetRaN-waBN8gDgVO1fr5Bv2x_YK_3iYyDUaX1MTL3p807zeGC-UXylL6e_8LYg24gHiiFyIFfiKoxasojgP53Bd0e-MIcuvv65NO5AR7UPPQc_RUmrjhQlWBbhRCvc2iFDDOSPreBpJAaHsV7Y3YemWX5JydqRzpRSrfECF9dg6BgdMBr9bX8bKxQjmVSNwfkBk5zH4EDHDhW9T0_PNBYJH1Hk-4AW11-nvDHX829kM0dAI2-2cZE5KRCiK60trrfMuamPgsST2CsE0Q6qvILF89tCq_B70eWSjzeO8IC4CMussT960LfMYxWTPiFCDrT1YQEToarqzWHwdiKAy9mYXUBup-gW_sd69hQt5IM3ORWyvjTfH1UQczhmRufXCsaW51uqNNfVkPRm5iNc5hPPvK0a-Mv_qiE5OY9VFy6rPRmgkTzPkkq6QdRR5quVvUZwTB3uHTqdBMa57nPhkHTVQcYe6ZJnBwYh3_uIXq87bEoforZf39WaK3S-5xJpnn89cZAQ6FplMt1auzr-hgyqsrh7PPg2DpIxGZwNK9bTiTRy8nQ7FR4N7X3WBvG8dBT_QRHhqQ4kXPJWIQfUswR6Cwt5CXIxK6TdQEIPCiVSv2y8GATgP1INiW_KN2j81wRbrQ-8sh1gwsN1pUpzko8CcocY9_VUSPDXI-SREJGnB4aqWZXXqQlGRkVm9ZmFN2E0B1XcC73smeZEVOxTtKNMWsfMaZnWQShrUBrS9jdr0Hv23cHQHlhhQyrXnR0MS00D6XW6AOOhFWAsI9P507zQ7UmcG4_TwgeWKnTwPq7iGH0E69dyXQTOru8pyQcYkVnzxPE_OmMlW43SEudUXMZyz6Mdpz3gWfT7pwZWBx3Il18knfUwbrC4u62c1tZQfnp06-dhajbr5hs9rN1d2c-vO-aE77kyQz3lXXjjqy3CqrjV1-Y4QCk-A6P_5Hzq5bcC_dHI5xuJmg0Ml0CqtjqC_1hjs-AvjDeJ6-6vVZc26fuCtyGtSmvWSWPui5grOlQq1GZR3mlT3SJWqjk-lu4Q8XMsfk7U_I6wMapSYq1QjMqycFI0-x6WRePS1KHxSQFqYSgEwxT9WelP6ZLCHaZQnZmNT31ry2ngPoiAtTZiLAXTpDnQcYcEBAEpmrdluOLX2FzMyuFZaQ-gwJrn_6dLvxC-Nc8MJs_ibslAPYGn-SPB_0G00)
5. **Scenario Service (Scenario Context)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=bLVVRzis47xtNy4P0vO0IVNIfm43wjXUwYvE7TjfEs10G4kCJ4GYDPAoOnJxttT7Ig8eoMlc1yCyyZxUp-_e3zfGPSey6_t4HPoL2IDxOmhzQnGfUdoNShClTwLcAfR2C67UnJAFYemArBdM9iduBfg-lrwXw75v5-LK6wP0z3ILUI45wXI8FxgR_FdvSVlqTR7z-7GtlvtVpoukHoF3JSR8z3rfZfCPfwcYERaccvW9ghWa6wOEF6Raef5CqPvN0uUMNrRa27QI3S-BZ3zpbf0fZVTSf82FvoWNJ5tGWjzImuxqT4N6azM2LAinBF-G8etkRnVttt2rbgLXcYZsTycqqSH8alDOIUsiqEFB5cp2K8Ph9JDGdjargGIrvGXxA_5x_ifY2-yK2GGqfo89GGtBMCwCEbNgeBUjHNt8bP87dW2aPa9BHH9gQ0272LnIGLD040Oq7a50lAGD-OaUADaK2i97RgGqu_fuxezVkAefY3w9c4YHdIw3-_OIRWmk_8YI_t6ZE__3A_sTJpUo50bLfmjTbOWFNRUCnfVa-uZ0fwcvHcbIyBO2b0bQqp5kFTziSOiyGx1hpPQnVubMwKxNZpCY2wQeuL9etDigdgP1H54wAOtCxI6Yoepf08NPgi6zs1KME8yUTDoGHmY5tlC26w3AW0ABFzTosnbr8bGTVUlZdYhedDZkXvRPz3VG99FofInmmsM9nj0JcXnenXDhlxKScv5LSA7xlzCisz7u1ViAenZ3MW_xWu6OYnGIZ6671N6hjk5JgS26C7YaK1ADWgpXZL0b2RUR3Ami6oCjeWzj9bCUk_De_AlFxL6gb-TC7dMZ1HKX5JUdLgY6NJ0ksJuNTVO7Sb1l0HzWdYkRmsJC3_3ZUaSr9Al2TaN5SpOWtZXAC7l5z5vcuMRjfx_BXc3O4HhZ2KTV4XsPM06f9K4nrO5pIZx6UEii8BvmxruQOF3OPT8fMqkNPMOup1jMjAML1T0Ejg26xMOOi4svqx7YEvi16qBYHMtBtPvsUuKp0umCwwdo02Z9GFsWXaj1Gz5Ujc8gvw08E6MHXESt9t0ehmHW_3yjFflj6awQxTeHdG6vOvejyKjjKiKs3tUuwXB8LPFhAvzX-8tJe2djOExWfPO6B4juKh1BotmiuTecc5cV0Are78J5ivsPmcIdYXL0kJUDSf13GTye-MBJiNHhuWJs6hhRSRDyQ2N4A4Pp967R6vPLN3pHWT4lK8Nmx10q8npU1QggaT6QPS7S3sdUTQ1kauSF2mwXxNQrYP3jtHsRxWYo-05cRz8k18GTpFBqwOpF94tgEzmLL-HdGrFzsxYQT71d3xu_M6lyVPkAtmGE3Yr45RIuUNprmXVS7_3nGFXitJKptM8zK_TYwc7rYB76gwlsZJZdPjuNDuy0i3bn7h7jMC-mkHiQWEJRw6rGFSviNdzLYDy6ysCNgyI3vNlp7w1Tru9yLjD7kmdg9-Lvk1wrzaAtShpfirgptI0cbEGKdjdwkdff1zLeNrlTUU8wl1FbxfEySQnwShTYxplaSX1gu26-PZI1IYYLiiJKUd9tyC0R96lWBgaW7BsiXlmEXyxq4j1xz6arEPF28PHs1uNQNVy2xJkPwbw4GmnaGVytor6PgpqBVwPGmw5Y0nWTuVM47ON2f8cV7J04giR8s3voaThj1F0JsDxK6IBz8RzcCUC77up83wfM3KwM3wjpnNokwnRYKFTTLCqWvyQPelx0H0B_WCc_)
6. **House Management Service (Property Context)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=dLTRRzis57xth-2C0Kk0f7hfKu41TUmWSUUaZkrq5mm8Q8cMYL6YHb99tM7_lOSNaRemgPCyEDOHpyVlt8y_IeM5gWis-ecMAQipWlPALV93aWZyz2wdQbzlQqb4oaj5IlKkvKLICLngdNEfCaQtoVJz-LABxcyMIO6b8W943rDULBpKEfN67oqcVtw-tppyFjzSFomkhovlPoUdev6YYX4qVO_ySJIZE1UuGEVeciFLw0QNE2U5VhKcuf6c19qi1Q-8K0TG0rvV5HnUqw9YT4T9XgOutTCo1tZz6jEIY1DSqIkio1C-dA7nP3b7xcaCZx_nCazkh-QtV-Yd5QyLaKYGVsiYbKIAeuAcWajxkHoVjc2rRm91qBu7GOIo1lw47p5QLmAeeGlErRWvpfy0IkvfXHunenbMb9UTMpAYCLOafr89RS3C250ZQTzonVNdlAIAOeO032C8dgmB8YAO-bbm5Y2Tu2s8YZ2m6UWuNL3QDAAtuCcKb5XG7k3MJl8Zhpw77S0VBdXTPbWSJlOwoJeXV2xjngVeln62Fv-hLdbIKQy5cQK9zFYiBjSR_Ghjk4161nKU_k-ooVJfwdw6T6AR393wnOAdvg5tVf928afjcWwMblYA0DcEvhLeiaWJxh6kt5bheW22Njk96iUElM6up52Z5oKFjKVIGyhwfddeaDjQF6tJxAby3lL019Hq-e8jp3aesE9T5h75lzFc2CwBtiqhBTfJY818zmSj-GkkGLpakAJVF7aFqxLfNM6JTe8m6q4mGSPfOnF0GDe5D4Av6seR1o8AAcMJ8wQ7MC2-x_t1FjCzDWdAU4xJLa9vq-EiTJtfvae2yPakCIEBaTVtG4DEpVjOrjWAjVswurdFn2eRqhh34mVMBPDhhYnKk2DkWIc-oqVukgotZCgzCS88a9UqBPYkvflvTBBuWEmXoMi1RL8NCbTm5ZLZ8TYK2cAO9NK5d0WYMh5RpUaUbtdxZVD_Y6phdQ-W3XxOzt-heSssrhRPDjR1PXVQbYMNAXTaVRVmTItFJ1d0lwQGu6iLxIMTmGVNIHDR4_eGQVDeMXx9g3GfG6ocdhNJzWpjp7mj5Jkur0Lb7S7E12X03YPS2FwFYTEDVKPMOAx1sorLDtTZ7qMOXmGNEhdFKQQd8zsQUMwyapHMEbzgcqQ_eCkliBIKKBaKjWc1KsFkQ4LOPsreDNlhMWSgJL5w_ndVRZRBTQBRFboWSOBkO6FuOYiJOEhECj3WD330ipFN_8Ao4z2qkic8JknYLo5UieEbq5yYMkOqk3qVcNXqM9oXdnNEvQzZ1pzkG_jT8eBisfEW-HuO7mEC3F9mfuY0ip0agmeYBuyYFLWlddD8G_ueTvWekMnA_KuxoAjmrt0OTvAhUK-9zDkEGTjXkujsqORZi47hvEUFOFhZgG6nycCG8gFYYa3eJVVEl2_ZC0EVzFc4ckcKInnju9EXomEUTNfgVrQyWc74tdlROgp9hw3tTgYUczu611aSXjw4CJUiu8SGL2-WkFaJTqDylZRV9Pei5esBBUeh_78CDkjEs1VWUxuw1jprWHUXmNjc9PAA2q1-mKjcKg_XcC-wfYXWG2UVbfCN_T3M7ZJiBa3CqhPwhxq5PR2bzQlQxbrjkuRvrTq9LWHdCdaIr6TSA7op7-ZLHl6KCpU6pG2lhC_j19-2Ckp_p2nSyY0LAM3mISeeALCIUau_SltD8PA1ViubpW5khz8xzytTKbFwICgiBXZw3W00)

**–î–∏–∞–≥—Ä–∞–º–º—ã –∫–æ–¥–∞ (Code)**

–î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã:

1. **Rule Engine (Scenario Service)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=hLTBRziu4BxhLx2zr47Y-jAJK2pgAbhKW1-5hUIqG41B4vjOYLH5scdHx7_VuKiMPUK1fBau_3WSVlFDS3p-8XLjrA4getUCv-MX0B9NgfRnPDBGXuyxflQ7xK52amkkWAkFkQWcTKcvFZEMgYZPTf9y6d_NqCrYFgceLD0WT9U8gXPSdwcr_qWnLG99Ff54u2tNZEuQMf4nMHyGJlcESI2ZJGwSDaoG3JH7bWFk9wjrIfBrB9ibq_b55EKbbTASSeT-HmJ_nWqYCYPp9jLdlVkNXU6853Q7hSmRjeKc9ca8MAkzm21lQSaAgWGQVGlMnkQoRaGEKfhp8-Cs9bd3TZje37OHawDWXJMcHQ59Z3IhsB0DjXken15QYraH4waQndU15Vo4_A3WEKT7oz7OJ7FDhsDvHNJg0kTR8KgWFFglAwINaBMMTirf1I62sTcMK9py65HP5LevB4fpnGJtAPcQbKjAIAkJWZvOYfpgSptyig8gtuDy8WrTSbx4qQ1iexxrdaehOoRcxkxHooAw-xsEwbSDBQaC5nOkG9TqFqHyMGNJzuGmCZp07nV3nzt6DXIDJLKOZCLUZgMgAE-1DSM73jWLi1GMjFvizwwSZQi8R4CxKFCd8dmsX_wGA_zNPyi8vACqscKcr2xtuJ07SgDO1TXBgpeccfDUlhtKMyQzdkL9Lp-KIafcihve_p-rGziWuqwpjCf9xoaJnhCCXHNSe6l8WHsXUAxNzMecDNaIBK4hNuBV7OqeNKkFoVK0wXgEKEoUMHrQy-Kv-FgcxIh7Ncb9ZcnZyZKTX2w15ztxHfXLINTjiWSwwdb1Mh_j4mklUqrF3WFnOffm5vGZdKgNWzVdso0UKhh1EutTu2Ev8hsAVAfjQ3VFFhShSbx6JpcpEMbbwZ-r5ro5Ofs5xqJhvEGjSRyvPknjBuHxqNtrm0zLz_l3HRD9bvlL-kvsEhz93P3D5kdTr-aclJRBw_HsbgHtcsoQsVtvAfbcizNIsNZFfsRk7Bk3oMgPhLTp0orNsUplcJqU-l9MwEq3MKDfuf5xLikeCvKzFex7uhTfFNtuyV5i23kt21lAW47ljHiBl-Vda1P39jPX5FLxQNZ4x4PHhvqDNzbxfbsZy-SOOMy3WfVi5H7ttVar9k-dU4jbT2IvQ80yuDnDNF7ftl4F7vFlTlm4IKm_bXgp114omwz671s4V54IQefMRnfgvCIDC1pgSGpNPkyTmwrGoCLJrEJCfs7KkZI_1dugmylFFfV43NpjJPFMVijmnk4xlMEVK2Su3Ug-GiG3nna1wyXJAU7UQDNJMUlLTnAVmhFX4fo8ydyrEWzrE6tO1zbZOdtu9XBgymM_7F2d3FaV) - —è–¥—Ä–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª
2. **Device State Manager (Device Control Service)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=pLXBRziu4BxxLt1xMHUDcqjFGb7KbGF4G9nauwIB1Ge4j3InYPL8bQISkit-znsIefwKa_RK046auJo_6SqCyr5fAdMPPvC_64-oCWMoqxfGqUcff8zljqploasfG2Q2Q-3wRIBoqoAZtCZCb4upjZcDtysk3UbkTN6QKwL18ka-5daXk94fZFw9PZe34hyZiK0h2qQtakPaHXQmPmcGjQOQo8fokWL9fXKrHhDIP6GDqhxFI7opl5t6yulNaqcIKQKgUIlkfNzC2FxC4fhi828ta38LcsT7bb08nRIGXyXPlQa9ZW7swFLrkScOse6Co5ddtV5a8g6Q2VwPPYobA1kHYpx9ShxPWevBAL65DJPDhR_BD29AIyQthwDs24wcB501XFbF28T7UzGHH3KR8JAWtAbG1vxyZUbpB26hUy5Inxjt7Zj5yOxoBKmJvtF7nWd1Qi5uZXhsoZmSyoG1fG9XcBBgEEJL_1T8hSzfNusZ5b8K83K35M495U-z2VVtWsFIB0Sizxo8YF7FlBg3FKY5ZaQ4SUqeIfGoWQeyrlQbc_Q-0pk1qVI8Rv8CwtyQoYzJjaYcVUmGssiNoc7wBnnQsBJrgZ3N2K7eIpYQOP-KQGZkvaFnQ4jBoPWjX9lcfG9KPmrcnlSNrROAy9bC1GgwyH--CQM7HTJ7Zt4VwF62jvt1Ox7a3oBWqJ3LNaKDMAzxr3MwmRR58T6sg1PKqmrLqD2S3m-CfvyEo_HbeD4zJ9_121DmZYYX8u5ei42bijb2cGjaUzzIyw7TTUeI-IL8khtI8v9_rTgNqQf-TbOBnzpkFKFB8ak7BM-y4pQWLDhFf1Goe1SCFLWYbM2lgUFJcAf1E-i2W-Cmfpmznz-i0KQrnbOK66NjfbSLaAWPQyBFZYJu1ac9Q3kN0h4axgGnP5_7EhtNyqjITRazAzqR2nN3yS50gu-mComeBXw0MygnOT7DvZC3HCBN4a-W3gO_2UgkD0R67Pgh1kMnYAjyl-IpKi3J5oGut4UnbJIrM0RxRc2cET8LpnWFzjzWv4vejEc4q1XKjSV3Jc7tvUHctt9BOqJEW_HX1fmlLHww5N12NXfGR-_fgmdsq33unq1f3w-m_T5UYarpMASXdCEmLM1tWFljOpxgmQ2mZ05VKp-pySquDfPUppWK3GKD0I_pzbfPcLcSVLx6P_OndiVdxcanlvr_cg_ToztwxEO-lbgjvfSBIxYuYkUtowlB-_K_bx5H_ITkQ9drLUrOeIQ1Yz7JqspszDI-4OqpzQz6uvoz-z4uut0SZV2A7vt-CkaDpqfTO5mUOsp6vN4kUpR2CunWqk_DG-Scas77ghX6EjCeV-SJc7215oF9jZjDn4Fe8XoHL-xsbDSco2DU2ic-NcUYBtpc2eAOhHZBr13yqahCDN8d1MVVBRSvSnzPIuKXUiS8jIsWTsehX5Gh5PfuLVc-4LgBt3W_Z1XzhvNst9s7R3JC8Da3I-e3Yt7z7mJSW64hXr9LyDwp31uigBqoGAVyth4p99G80kgPkYvwltiE1i8qvDLVjxV4hMf8GSS-uaWlyupy3m00) - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤

# –ó–∞–¥–∞–Ω–∏–µ 3. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ER-–¥–∏–∞–≥—Ä–∞–º–º—ã

–ó–¥–µ—Å—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ [ERD —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã](https://www.planttext.com?text=lLdlZjis4l-kfo3yfMjVlEYb25eisg3UNIVhPhrsRMzmmDt1e2LQ8YA9AabvusiAz27k2Uz9RaYA4lNFMIUuovUiDSCX-PkP7uV3duN4NEP9ZBuRYmJ-74Si8MF2nm758SU9vts38XeG92E2HCQaft_vbFin0Ha-C1gWZBDTJ1A1dgYC44x3c0J8v-n9e3qXqXCVQ9fXC8TYcX9vp0XYN4OC3D041Xy8uWG7U4TZAe-EUeRz3pWaQtcCbOeljMr7OGSA8MTv6jomc77q5559sWQk6sen3IEvYtDNbQGI9czg6eCUY605QmKHkWE8qFee94dG6DrI8JdTvHAsF5t1JuqRkfY_Nw8rx2wcUmgY6-n7D0s7NieaGLWWRN6hVdbp2bW9mW_K9m9DkA_cz6NEYG7q5akymuAWZ72qDdfeYQKaFFMcODXk4o3AE16m4u4m4aHj36PB7Fl68WK5zfIYeB3itJAfDg3S8v28s1EAMKXz78F964lAKX7HJA2BbA4iEWejUlCE-I2G75EOSUWvs_NDTg_GBT6pth1KSXQZ5GceG7z1wmXpK3C_MHeVFP86IAC1GV6J-eSUru3dpU9XC_tR1bqymWRG7AUmpGGsQ74O6cNF8Z3GUcewyb7-8xtu1HymMcSS5eEk6PCmzv896NAo_lL-E52Uo674DliGejyzL4I1CLDAjGIXaTQ4UBz2Zu-pM_JZZyjthrzhqNXSQQGOukCAlP-iRkucgujNtmwDZ2IOnexWhzzQIOQ5U68ys4POH8x6orUlZCQUSY6tFOPZt2_B8fQwtryMtwdOOb_IWv9TBnRtqyc3_kv37a8WRB44mMOsdwuta_bIY_8iw1Ff5QY0IHkYFpm7qXMBYOOK0e5OIDNVfo7L6ZtR2uZmESrKVAgP8L3ChWbFg10gQk7pB-l5m_NftTNMgLnVhbMxt5rm-U7pWL3JU6CrsbikHH06D4oxCIvbksCnKg_xZofVxXQGCLN2t35OmtConYYUbJAH6jBA6Mseabl4ZF99j82B6d1nihzIZh2W6IEDC2Wp20S1y9vmOy1NI-fGpM0hEDxwBEZA2n-ON_9ZHwX9cf1_rPF9YipQzB5M2R-puvYQ3jWEW_1sUZERJ-vXDIzU3hyuuMhHUizypSyQzxZuOQ6tlq-ZttPG5QobXJxeIuN6_Yqu-vWnlatpP0SyUeLc49rlfolZjJeeFrXCUhBwRCwguJJnuN0Lov8PD5vOVznMV661gxwScURTSTk9RQTpAkIT9VI45XGQgNGPeJs_LUa8B_8nev0qNQ9kf6jaSpjzFxjnsAOuvrSaLFNGiPTid7h0iCrRri4lWTPg4OmPl04qN2sDJk4tzVTfZscDlc0UWKT8o3e98C5fliUwBEDTOnDWbCxZ7GfSoNmMTtZGnvafUYcfdrG1sUCyba1JwPw6DT7NfO61q87F8bU0-NdikgEr7USg4lM9qAAIffQbiFA0r454-EdGjYlkzIMeKg3UadfS3J3tQDUUO7zR7I2brlT5fPGvmjd3T6CBikG9-6jx85mOdch6Yt5Tpd71Ouu7KtK4cR9wgpXUaU1aCzL2iAfozhWjyjELWUkXLgPfq_Mw_XA4DCklBprUd3nN2RvQtBSItHRqZJp_1Zr03G_s8gZhxPK3Oa0KfVuUhbImUNKfAGkJYXoiqGOxwA6667oZKJA3lKtPx_e6eNRNlKopb03igKGlxX_6eR0mm2eUgtFUfaPpfPTQzOP3lghxZnhZimJa-WgiZX9LCm5nWmI--kHIPrvniN5GdIyUPfl5QlRmjW9sG-0AJKvnvvobL39TbpKGcgNxEFzuUsr0Iagz5eEMawWxfLQMzekAH6pP825O0D6fJP-cX0xQK7bguFzVa8ExifwIOtJ0SBLNYRDulBwVekKAAeprR66I9GTmEYg_tt8Srqj6Ancfa81GIB9M3aaSrdaRaCGQn-fZ1_tE0M_g2_SGIyod2d_ry_y3VJ5NBuyMyfEWuX2Exz1u4EAVig0BI4WQFu_x26ba1cvrJwfNgjBf15zD7ZUB-MG3wweoQ-sJ5CFWtiIQv98bXgVFkWRXSbmhqUoSMa_O1HJUjR_FBSjRhhFqVkgOB2VhS_2PvJOW0joYCyKjvh-YSq0-4b_tpzebgX8eUFMzh3PZlRMGszP2xhGMyizTqZlzS4vDy_oI9cytCQeCqzAU8dy4Hrj0PQkNCLBEQNxiyra59ED1wnxslChHHlJKsgg5zhQSmi9VpVaLFcZvi9G09uLXKIDkY_FwwtYmMh0wztFHvGpDJTsX39L05fCUOR7QRUDiS3qJitgTJpY7YpESF49nL9cODRPRJUyrrwtlPijrmMeWdAMgDOnLkxNMl5qwdLlL1wOf4YecVKDwGqytEpzz6e_PxqxdwmeDYdlkmDCVkZIAhjR0CxsVGgLiI826TK53fNq7h-cM5ZwnVdKd3mUUUoqivYZZOr1SOGPUoSc5YcOEK73YiQtK4UtD8TfEiTPkzIAc1yfJDvm9CIuEdQQxxiiM_1u2FLMF0sCKE9twmc6Nbp2NmHJCsruQ766g2m-wu6QttpuSECCwuIoy_JmB5RQrUzlp1fS0m_3gC3irjWYUnjGsNawDB2EfCTO9dbF3dNaRDVCNpT-sSVuw6hNZCzVX673XFtEepPVpTsv7dh_VxdnwpWeAKkY3lYobmGRKkLJNA-X0CPeiPyD1RNGRz7D6Ts_1FSp023d0eJiEE1pawL3pn3q-iboYI3sqUUM3rVZl4Gq2alwJg_VCyUkgB-zL7VgMKjLSyvm-MwaM0860bdFJzjnRTwaNaxsoLhziUesxPrExNZ5xvZLq1vJ64cyqkYSXbFTNev4tGZ-ffmj0KZNZzfJ4WMUA1n0iEKqmV7v7Zfwf2E3Z6yO93LFr4Lse5yNQ2LUq8eQUwVk0_cDAVuFxZB6XQe6fhdEqh4MyI39R1u553AkEWC4AenwiVCt0xSNpwSL__lpt43Q1bjqFfRM5bI-mer7j3VRYyl9I6-au15enXbGZGeU-NalhrHcjfNe83e-wPJ5_lrGGZplVPg_Wlwuk25nsuE9LT3i437OJx0fkLkQvxONxzlO2xJa1a5C9tZ073OnGEuRnKoV6pUABUuBGkrhXtOxA-Q-W-S0GEn0-9ca8qAWiKPECRNV9D9PqJqsXupma_mn_vadi_HS0), –æ—Ç—Ä–∞–∂–∞—é—â–∞—è –∫–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã, –∏—Ö –∞—Ç—Ä–∏–±—É—Ç—ã –∏ —Ç–∏–ø —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –Ω–∏–º–∏.

# –ó–∞–¥–∞–Ω–∏–µ 4. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### 1. –¢–∏–ø API

–î–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥** —Å –¥–≤—É–º—è —Ç–∏–ø–∞–º–∏ API:

**REST API (OpenAPI 3.0)** - –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
- –ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π API Gateway
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**AsyncAPI** - –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
- –°–æ–±—ã—Ç–∏–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —á–µ—Ä–µ–∑ RabbitMQ
- –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ —á–µ—Ä–µ–∑ MQTT (–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ MVP)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫—ç—à–µ–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∞–ª–µ—Ä—Ç—ã

–î–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –¥–ª—è —Å–æ–±—ã—Ç–∏–π) –∏ **–ø—Ä–æ—Å—Ç–æ—Ç—É** (REST –¥–ª—è –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤), —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ MVP –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

#### REST APIs (OpenAPI –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API |
|---------|------|-------------|-------------------|
| **Device Registry** | 8082 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ | [device-registry-openapi.yaml](api-docs/restapi/device-registry-openapi.yaml) |
| **Device Control** | 8083 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ | [device-control-openapi.yaml](api-docs/restapi/device-control-openapi.yaml) |
| **Telemetry** | 8084 | –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ | [telemetry-openapi.yaml](api-docs/restapi/telemetry-openapi.yaml) |

#### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è

| –ü—Ä–æ—Ç–æ–∫–æ–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API |
|----------|-------------|-------------------|
| **MQTT** | –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Üî —Å–µ—Ä–≤–∏—Å—ã | [smart-home-asyncapi.yaml](api-docs/asyncapi/smart-home-asyncapi.yaml) |
| **RabbitMQ** | –°–æ–±—ã—Ç–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫—ç—à–µ–π | [smart-home-asyncapi.yaml](api-docs/asyncapi/smart-home-asyncapi.yaml) |

#### –û—Å–Ω–æ–≤–Ω—ã–µ API –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è)

**‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö:**
- `GET /api/v1/devices/{deviceId}` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ *(Device Registry)*
- `GET /api/v1/devices/{deviceId}/state` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ *(Device Control)*

**‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:**
- `PUT /api/v1/devices/{deviceId}/state` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ *(Device Control)*

**‚úÖ –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤:**
- `POST /api/v1/devices/{deviceId}/commands` - –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É *(Device Control)*
- `GET /api/v1/devices/{deviceId}/commands/{commandId}` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–∞–Ω–¥—ã *(Device Control)*

#### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è "–ö—ç—à –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å"** (—É—Å—Ç—Ä–∞–Ω—è–µ—Ç –µ–¥–∏–Ω—ã–µ —Ç–æ—á–∫–∏ –æ—Ç–∫–∞–∑–∞):
```
1. –°–µ—Ä–≤–∏—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Redis –∫—ç—à –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
2. –ü—Ä–∏ –ø—Ä–æ–º–∞—Ö–µ –∫—ç—à–∞ ‚Üí API –≤—ã–∑–æ–≤ –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Å–µ—Ä–≤–∏—Å—É  
3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–ª—è –±—É–¥—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
4. –°–æ–±—ã—Ç–∏—è RabbitMQ –æ–±–Ω–æ–≤–ª—è—é—Ç –∫—ç—à–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```

**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è:**
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Üí `events.device` ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—ç—à–µ–π
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–º–∞/–ª–æ–∫–∞—Ü–∏–∏ ‚Üí `events.cache` ‚Üí –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö –∫–ª—é—á–µ–π
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí `events.cache` ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

**–ü—Ä–∏–º–µ—Ä –ø–æ—Ç–æ–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ API:**
```
1. Frontend ‚Üí API Gateway ‚Üí Device Control Service
2. Device Control ‚Üí Redis –∫—ç—à (–ø—Ä–∞–≤–∞, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤)
3. –ü—Ä–∏ –ø—Ä–æ–º–∞—Ö–µ –∫—ç—à–∞ ‚Üí –≤—ã–∑–æ–≤ API Device Registry
4. Device Control ‚Üí MQTT ‚Üí –§–∏–∑–∏—á–µ—Å–∫–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
5. Device Control ‚Üí —Å–æ–±—ã—Ç–∏–µ RabbitMQ ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—ç—à–µ–π
```

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ API

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** JWT Bearer —Ç–æ–∫–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö REST API (–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

**–ü—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è:** `/health` —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ HTTP –∫–æ–¥—ã —Å—Ç–∞—Ç—É—Å–∞ (200, 400, 404, 500)

**–í–∞–ª–∏–¥–∞—Ü–∏—è:** –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

# –ó–∞–¥–∞–Ω–∏–µ 5. –†–∞–±–æ—Ç–∞ —Å docker –∏ docker-compose

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### 1. Temperature API Service

–°–æ–∑–¥–∞–Ω –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å **temperature-api** –Ω–∞ **PHP + Symfony** —Å —Å–ª–µ–¥—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é:

**–û—Å–Ω–æ–≤–Ω—ã–µ endpoints:**
- `GET /temperature?location=` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É (18-25¬∞C) –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –ª–æ–∫–∞—Ü–∏–∏
- `GET /temperature/{sensorId}` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –ø–æ ID –¥–∞—Ç—á–∏–∫–∞
- `GET /health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞

**Mapping –ª–æ–∫–∞—Ü–∏–π –∏ –¥–∞—Ç—á–∏–∫–æ–≤:**
- Living Room ‚Üî Sensor ID 1
- Bedroom ‚Üî Sensor ID 2  
- Kitchen ‚Üî Sensor ID 3
- Unknown/Empty ‚Üî Sensor ID 0

### 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–∏–º–µ–Ω–µ–Ω—ã –ø—Ä–∏–Ω—Ü–∏–ø—ã SOLID —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
- **Controllers** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- **Services** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- **DTOs** - –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–ª–æ—è–º–∏
- **Interfaces** - —Å–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 3. Docker –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**Temperature API:**
- Dockerfile —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–±–æ—Ä–∫–æ–π (PHP 8.4 + Nginx)
- –ü–æ—Ä—Ç 8081 –∫–∞–∫ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤ –∑–∞–¥–∞–Ω–∏–∏
- Health check –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**PostgreSQL –¥–ª—è smart_home:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ë–î —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ `init.sql`
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Go –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤

–ú–æ–Ω–æ–ª–∏—Ç–Ω–æ–µ Go –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å –Ω–æ–≤—ã–º temperature-api:
- HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤—ã–∑–æ–≤–∞ –≤–Ω–µ—à–Ω–µ–≥–æ API
- –û–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–º–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–ò—Å–ø–æ–ª—å–∑—É—è Postman –∫–æ–ª–ª–µ–∫—Ü–∏—é `smarthome-api.postman_collection.json`:
- **Create Sensor** - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞
- **Get All Sensors** - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞–º–∏

–ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 18-25¬∞C, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.


# **–ó–∞–¥–∞–Ω–∏–µ 6. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ MVP**

üìù [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](apps/README-DOCKER.md)  
üß™ [Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](e2e-testing.postman_collection.json)

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç—Ä–∏ –Ω–æ–≤—ã—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –æ—Ç –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π. –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª–∏–≥–ª–æ—Ç-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

## **–°–æ–∑–¥–∞–Ω–Ω—ã–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã**

### **Device Registry Service (Go)**
–°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å PostgreSQL –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö.

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–Ω–æ–ª–∏—Ç–æ–º –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–µ–Ω—Å–æ—Ä–∞
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ UUID –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- RESTful API —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

**–ö–ª—é—á–µ–≤—ã–µ endpoint'—ã:**
- `GET/POST /api/v1/devices` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- `GET /api/v1/device-types` - –∫–∞—Ç–∞–ª–æ–≥ —Ç–∏–ø–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- `GET /health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### **Device Control Service (Python FastAPI)**
–°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è.

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –û—á–µ—Ä–µ–¥—å –∫–æ–º–∞–Ω–¥ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
- –°–∏–º—É–ª—è—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥
- –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –¥–µ–≤–∞–π—Å—É, —á–µ—Ä–µ–∑ –µ–≥–æ —É–¥–∞–ª–µ–Ω–∏–µ –≤ Device Registry (Events, RabbitMQ)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Device Registry –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–ö–ª—é—á–µ–≤—ã–µ endpoint'—ã:**
- `GET/PUT /api/v1/devices/{deviceId}/state` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- `POST /api/v1/devices/{deviceId}/commands` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥
- `POST /api/v1/devices/{deviceId}/ping` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–Ω–æ—Å—Ç–∏

### **Telemetry Service (Java Spring Boot)**
–°–µ—Ä–≤–∏—Å —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º InfluxDB –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤.

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ—Ç IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
- –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –¥–µ–≤–∞–π—Å—É, —á–µ—Ä–µ–∑ –µ–≥–æ —É–¥–∞–ª–µ–Ω–∏–µ –≤ Device Registry (Events, RabbitMQ)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ Redis

**–ö–ª—é—á–µ–≤—ã–µ endpoint'—ã:**
- `POST /api/v1/telemetry` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
- `GET /api/v1/telemetry/devices/{deviceId}` - –¥–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `GET /api/v1/telemetry/statistics` - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

## **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è**

### **Database per Service**
–ö–∞–∂–¥—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö:
- **Device Registry:** PostgreSQL –¥–ª—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Device Control:** Redis –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º
- **Telemetry:** InfluxDB –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤

### **Event-Driven Integration**
–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É –º–æ–Ω–æ–ª–∏—Ç–æ–º –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏ —á–µ—Ä–µ–∑ RabbitMQ:
- –ú–æ–Ω–æ–ª–∏—Ç –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–µ–Ω—Å–æ—Ä–æ–≤
- Device Registry –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–π
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ (Strangler Fig)

### **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**
–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —É–ø–∞–∫–æ–≤–∞–Ω—ã –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ multi-stage builds:
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ docker-compose

## **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤**

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –º–æ–Ω–æ–ª–∏—Ç–æ–º —á–µ—Ä–µ–∑:
- **HTTP API calls** –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **RabbitMQ —Å–æ–±—ã—Ç–∏—è** –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- **Shared Redis cache** –¥–ª—è –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏–∑ –º–æ–Ω–æ–ª–∏—Ç–∞ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã.

## **–†–µ–∑—É–ª—å—Ç–∞—Ç**

–°–æ–∑–¥–∞–Ω–∞ –æ—Å–Ω–æ–≤–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å —Ç—Ä–µ–º—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏, –≥–æ—Ç–æ–≤—ã–º–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞—Ç—Ç–µ—Ä–Ω Strangler Fig –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –æ—Ç –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ.

üß™ [Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤](e2e-testing.postman_collection.json)