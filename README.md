üìù [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](apps/README-DOCKER.md)  
üß™ [Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](e2e-testing.postman_collection.json)

# –ó–∞–¥–∞–Ω–∏–µ 1. –ê–Ω–∞–ª–∏–∑ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

<aside>

–ß—Ç–æ–±—ã —Å–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –º–æ–∂–Ω–æ —á–∞—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤–∑—è—Ç—å –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–∏ –∏ —É—Å–ª–æ–≤–∏—è –∑–∞–¥–∞–Ω–∏—è. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

</aside>

### 1. –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–ø–ª–µ–Ω–∏–µ–º:**

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É–¥–∞–ª–µ–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞—Ç—á–∏–∫–∞–º–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —á–µ—Ä–µ–∑ REST API
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–µ–Ω—Å–æ—Ä–æ–≤: —Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞–Ω–∏–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –¥–∞—Ç—á–∏–∫–æ–≤ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π endpoint
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º Temperature API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –ø–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–µ–Ω—Å–æ—Ä–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ API –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã:**

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –¥–∞—Ç—á–∏–∫–µ –ø–æ ID
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤ (active/inactive)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤ (–∫–æ–º–Ω–∞—Ç—ã: Living Room, Bedroom, Kitchen)
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç health endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –ø–æ–∫–∞–∑–∞–Ω–∏–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### 2. –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:**
- **–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:** Go 1.21
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º pgxpool –¥–ª—è connection pooling
- **HTTP Framework:** Gin –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ REST API –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è —Ç—Ä–µ—Ö—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–ª–æ–∏:**
- **Presentation Layer (handlers/):** –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤, –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **Business Logic Layer (services/):** –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Data Access Layer (db/):** –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL —á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:**
- **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ, –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –≤–Ω–µ—à–Ω–µ–º—É Temperature API
- **Dependency Injection:** –†—É—á–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:** –¢—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **Fault Tolerance:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–∑–æ–ª—è—Ü–∏–∏ —Å–±–æ–µ–≤ - –ø–∞–¥–µ–Ω–∏–µ –ª—é–±–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—Å—é —Å–∏—Å—Ç–µ–º—É
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –≥–∏–±–∫–æ—Å—Ç—å:** –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –µ–¥–∏–Ω–æ–º—É —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º—É —Å—Ç–µ–∫—É

### 3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–æ–≤ –∏ –≥—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

**–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω:** Smart Home Management (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–º–Ω—ã–º –¥–æ–º–æ–º)

**–¢–µ–∫—É—â–∏–µ –ø–æ–¥–¥–æ–º–µ–Ω—ã (As-Is):**
- **Device Registry** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞–º–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ (Core Domain)
- **Temperature Monitoring** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Core Domain)

**–ë—É–¥—É—â–∏–µ –ø–æ–¥–¥–æ–º–µ–Ω—ã (To-Be):**
- **User Management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Supporting Domain)
- **Home Management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–∞–º–∏ –∏ –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π (Core Domain)
- **Device Control** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–æ—Å–≤–µ—â–µ–Ω–∏–µ, –≤–æ—Ä–æ—Ç–∞, –∫–∞–º–µ—Ä—ã) (Core Domain)
- **Telemetry Management** - —Å–±–æ—Ä –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (Core Domain)
- **Scenario Management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ —Ä–∞–±–æ—Ç—ã (Core Domain)
- **External Integration** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API –∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (Supporting Domain)
- **Notification Service** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∞–ª–µ—Ä—Ç—ã (Supporting Domain)

**Bounded Contexts:**
- **Device Context** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏, –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- **Monitoring Context** - —Å–±–æ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **Control Context** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- **Scenario Context** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ —Ä–∞–±–æ—Ç—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- **User Context** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –¥–æ—Å—Ç—É–ø–∞–º–∏
- **House Context** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–∞–º–∏ –∏ –ª–æ–∫–∞—Ü–∏—è–º–∏
- **Integration Context** - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏ API

### 4. –ü—Ä–æ–±–ª–µ–º—ã –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- **Tight Coupling (–¢–µ—Å–Ω–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å):** Handlers –Ω–∞–ø—Ä—è–º—É—é –∑–∞–≤–∏—Å—è—Ç –æ—Ç DB –∏ Services, –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Ç—Ä–µ–±—É—é—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥—Ä—É–≥–∏—Ö
- **Single Point of Failure:** –°–±–æ–π –ª—é–±–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–ë–î, –≤–Ω–µ—à–Ω–∏–π API) –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –ü—Ä–∏–≤—è–∑–∫–∞ –∫ Go –∏ PostgreSQL –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á

**–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ–±–ª–µ–º—ã:**
- **–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:** –ö–æ–º–∞–Ω–¥—ã –Ω–µ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ —Ä–∞–∑–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª—é–±–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** –¢–µ–∫—É—â–∏–π –º–æ–Ω–æ–ª–∏—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏, —á—Ç–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–ª–∞–Ω–∞–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

**–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- **–°–ª–æ–∂–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** –õ–æ–≥–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–º–µ—à–∞–Ω—ã, —Ç—Ä—É–¥–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **–ü—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞–≥—Ä—É–∑–∫–æ–π:** –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã

### 5. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–∏—Å—Ç–µ–º—ã ‚Äî –¥–∏–∞–≥—Ä–∞–º–º–∞ –°4

[C4 Context Diagram](https://www.planttext.com?text=hLLHZzeu47xdLqpHFS2gsRJNtijA9vK2Mz2nkvHahxedP8X9B3bsQZkmKNN__MQS1CB2LVTm-sGyavdl--ORxoVhc75bBdjlXDhACk6GELVOkp0qx72R2fULcz9oizNASULkjpeF2yaKVHDObqYn2SSVWoLTFJyimfnPnmrUhSVqnOkxBQXwxqt2Tq9nc4p_d8-V7gF_qCQL1KlCXrCxWT5WXnc1BOnmtBRT4hwdc3rskNzwZ4VVfj7Jm_H_RUJls85RdVFWjvDcBQimrJNVoqYXhKiDjz_bgumErf2GsP_47SyBRfWh3Lzd8ir-ahgLkamQyHUZlvwUu_MtUJnRBwPVfe-JmR3NSy993kEFq4mA9eAbXkKGG9IZAs26BE51AorHDXYCR32t-DqICMero32g3ugRjz2VjUS-_fYg18W8738DELCivHOe6pBEd50fCCp8jH9E6miTJc1uhXsN5PRvfPR-zxxNf3zisx8a5mgxH1LE98SH_HJMOG7jkpyq3MqTnqdkH5fYM6ZLROmuhdNfrNNNdtMf4cQgWIKfY5yTeCudSQPRNVVf3-573_2lpXhaZMhdwQsMXFEB1bOKKcnhP2vZxYXMLnBBbIMP27fXz5uacB2QHZ6CbdFOQTE8TXINd6sqx99BDJBx-yXj-k86dHPOXwRsWWPNJ4BSQOuXmXfdmYH1WJmgn6DmsNY3XHeQpcJW1FBhuawOOx2fGEgQOHUFzoP2keudgXbJtqwzvfRWBBFAecuIvZe6l_ieoU3zktTGucZj48J2PqrAdk39EyzweRhmhhlWzNuTCKus7YMHsZ3B2KIzpz7N1KoQMy8MOL5odqVhHNXxxi5waeqx4QRZNG2dLuAykEAoksOTKnrTtcgr5_nWBmP0Y6Pnl8p2rZ5ObgesMzIjsEvZ0mtj92dGUlACnB_MFHMyCDWzTzkC2fN6uCjxXlNS9tNffk8rOtHWhtYXZNlzYZ0ofcrBNM3hZB6ULsYuCuBlpoVdv_br4SPZAj5Jj6K6NU50xuuOSEjlRiODf_jIROa4mqXrTtE3mG36g-S9Q8_Ep_-r5PiP-jpLrLqwcHN0fytnmKwRD-r0ZpDljzUTRw_FdlbHTgjmbHHQAEV3KQMscK4wfKNflfVSEjfkN2fBkLh9geSV0F5lL91yvqMu78wNepx3eXcfRPLOY3rLN6cTms0-kOFtGt__cIVcUFVhi27vXo33gFhsGvqPuSAKzWuOohpdeL3reOFl4nxndnxy0m00)

–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Smart Home —Å –≤–Ω–µ—à–Ω–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–≤–µ–±-–∫–ª–∏–µ–Ω—Ç—ã), —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–º–∏ –¥–∞—Ç—á–∏–∫–∞–º–∏ –∏ –≤–Ω–µ—à–Ω–∏–º Temperature API. –î–∏–∞–≥—Ä–∞–º–º–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (As-Is) –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ.

# –ó–∞–¥–∞–Ω–∏–µ 2. –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–í —ç—Ç–æ–º –∑–∞–¥–∞–Ω–∏–∏ –≤–∞–º –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–∏–∞–≥—Ä–∞–º–º—ã –≤ –º–æ–¥–µ–ª–∏ C4. –ú—ã –Ω–µ –ø—Ä–æ—Å–∏–º –≤–∞—Å –æ—Ç–¥–µ–ª—å–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å –ø–æ–ª—É—á–∏–≤—à–∏–µ—Å—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∏ —Ç–æ, –∫–∞–∫ –≤—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ To-Be —Å–∏—Å—Ç–µ–º—ã. –ï—Å–ª–∏ –≤—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ –¥–∏–∞–≥—Ä–∞–º–º—ã C4, –æ–Ω–∏ –∏ —Ç–∞–∫ —ç—Ç–æ –ø–æ–∫–∞–∂—É—Ç.

### –í—ã–±–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞

–£—á–∏—Ç—ã–≤–∞—è —Ä–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (5 —á–µ–ª–æ–≤–µ–∫) –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ —Å–∏—Å—Ç–µ–º—ã, –±—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ –¥–≤—É–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:

**1. Go** - –¥–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- **Device Registry Service** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤, —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **Device Control Service** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Telemetry Service** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–∞ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤

**2. Java Spring Boot** - –¥–ª—è –±–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å–æ–≤ —Å–æ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–æ–π:
- **User Management Service** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **House Management Service** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–∞–º–∏ –∏ –ª–æ–∫–∞—Ü–∏—è–º–∏
- **Scenario Service** - —Å–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–∞–≤–∏–ª

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**
- –°–Ω–∏–∂–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ CI/CD –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –Ω–∞–π–º–∞ –∏ –æ–±—É—á–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–ª—É–±–æ–∫–æ–π —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã –∫–æ–º–∞–Ω–¥—ã –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö
- –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏
- –°–Ω–∏–∂–µ–Ω–∏–µ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

–î–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è single points of failure –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:

**1. Local Cache Pattern**
- –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (permissions, locations, ownership)
- –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è
- –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**2. Event-Driven Cache Synchronization**
- House Management –∏ User Management –ø—É–±–ª–∏–∫—É—é—Ç —Å–æ–±—ã—Ç–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∏ –æ–±–Ω–æ–≤–ª—è—é—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫—ç—à–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

**3. Graceful Degradation**
- –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ House/User Management —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫—ç—à–µ–º
- –û–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- Circuit Breaker pattern –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –∫—ç—à

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–∞–∂–µ –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### –ü–∞—Ç—Ç–µ—Ä–Ω –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

–í –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–º—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—é:

**1. API Gateway** - –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ API Gateway
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ rate limiting
- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

**2. Service-to-Service** - –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤:
- –°–µ—Ä–≤–∏—Å—ã –æ–±—â–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º
- –°–Ω–∏–∂–µ–Ω–∏–µ latency –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º —á–µ—Ä–µ–∑ API Gateway

**3. Event-Driven** - –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö:
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ Message Broker (RabbitMQ)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫—ç—à–µ–π –±–µ–∑ –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤
- Eventual consistency –¥–ª—è –Ω–µ–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (Containers)**

[C4 Container Diagram - Smart Home MVP](https://www.planttext.com?text=bLTDRzj64BthLqnLe941oqA1ddAAR2csKikHBJfjJyQAN4kRa5nYTsbRAFhVExCV94LIjXCWYKWktxnzE_Dc-4aRfaoPfODVH1wdPS9XPqoXFqucYZsVRONPbPjISnNBtF3SdCKocnGfo-cTiJP9AZQJYp_6AxfrlxoUP4mRhl3MmmM-mKJErLb1-8FhwJzVxwE7lnRHrSFr_79-CnkT30P6c9J3nHzGBOUPO5l5CXZ3EaDoS2Kp3lDOwZr2Pp2AvFYSm_BR2gOgtWd3OrCgZbWhhhJCHpjSBvyHwHI6L-7t42_cUGAq5tZUISXOphPSWxOnw1r8-9E8kJw5M75cw5dCSwQ4rC3mrKpcmaYbSJ6YWEAPD3pT3qz2O9Pa8iSuQqTqIfT26yNmBOg_327TSvJqKMnBV2naRYDOShei2gaCmWuSqCFynOpu2ygQipJYMJ4j1Et6tm6wnH45HO3fQa6HLae-YGH3FUD6TWXAwAQnBc66mQDKaChOnjSOhn7EgZ8BUWpTGVXh2h2GKP3hum6mvhb6ZKuX5TkT8IrPXi_mXnDwIy8szdOkopnXQkyYqd5L9rt5FKo0uGdyEm3yKsNCY1NY4d6VsHxVGGd0Nn7JFsM-dTnSBcx-fgkroBUORvZ9QW-55Bav1ILBWxTFWPMeLMw4KmGV80hk8nFq63bJKFlF1uoDUvt93EF3cYih18m-opILpxWOPhCPsAtnnFB4uzFmg6G64TC_uFUJrWwSbdTyI_b2kt1QGxWJWj0UBkMmNe1SMIgHVCODerCzXP0gb0o0E-HRds8Z_uudT3BiPq7NIgPr37-ZoU7YLpYxcKTMXoORcM5T9NJQXiHpHPPnApDdwTY8Z5Ovl540Fae8wmlVnltxq1Wf2hUQT6vami--QvY_58fhcw4NU1Re33RpjQ7ZOccAAZ6DQKgCN56xV7NrC5gw2gS3F4g9QdJPsDRmdegsljEazOKzCLWN5l1SIZCCozkPLYZvA58gDHPZ9kbQeaL2wyp-E27hHWUChgm_zLDQxSqEKs7sdULRcqTsiQOga1cLRV03ImhB6aCV6jLe5UuVfHHyipwrjR_JG-KpTWnlMzFIO4dPAAgqSbGEV0f6YUsMgyf9a1wrYOp47LNuBKw-N1Vv8tgGKQLj5LN5jcXdg3nATgxa3ziybkuQt0qYUCSs6s6MjvQitkVnJiaS1RI9N-RLUV8daXq3SfPrl6E6kRPXcWmZ_0GKDB225JDKmDZ_QZzfUqbByTccvI2pJO-7pCwjx5ARhUBhs-lNRSG1WjaNT107fk8IGhVFlMBXwxf98fIwut374w4RuQrRKBFm_e5yuXtlympYrXEtCWeRi_Q88B3jMVbZMhuu0X5YZh4I1Pv2mnF0RTsRmawGSUnxmf49s4Zjuk-JcDReRdUfQnuFFnDQ-oxSZcNhsmRhr7LVj9-jvxwGeUfirAgqcbeUnkpMRLsi62mHde6RRq99O-3_1eCFO3LSO5uh5jk5WpkUDgUuW_P-h-rOivbaSeFouSEYPs2pIaJHQZsvcwyZZ4IGVZuxW3kSoJgl8Rt6F056DhgzdoNcTfPOqIpXmpJmEzrYMcS1OfGkDS8i6b8Yq3WWtq3jMdxOXdtYEbizsRs1rfazt4zaPd6yDUWmxxqFhXuY_2zTZzTONeckQlqjl9uPu8up1AWUE5Du0wRRau9chCxUJluqyg0wU2ER5jvoPbXecLemHw4jRezDhsaw2V84kU6tsdA3tTBQs-l9vTUxvR29NcdTTTyByj4AszbiPS20dTp8MAOUhQlqeQrweiqPgkchS8tsqSPi5q3bd1xCLe3DiqD_39lziffwf4xIryReiOubF-6uWGTgwJhvS6Xw3f6rZ2sWuTzfYifcUvSRrRVOeXwtCJSY70_AxGvQZTWJEFZ4widojIsJne1glo5lesXo8QUh_WneVxTrAis-JvazxC_FxdVcPsvi3eLFoUhJaUTAn3iwYvvgcTC4D9ufWVzZRJIc8nhxbVj-julqiUHhZsEhSfCAlMjrR3jgsQrDbxT7L3cEr2oCrw1gWTx4KcwfssilP2UJZsFQfPEGpVrmdKnkmwtBZOwLs3ZlygsvYpNuuBhmE0oYhMCx_BgTOgcEyIHLMTZ7rspFrIkkrEWltrWg4jl_l6JyXVfDxZuBsYRUGkjqr1hDZXVDOUfjj6udhU4grTqtsN6qUcklmRMEaYge9sFwedHBusr9mnp_FhntoK2CgrVxS3k9s1u58ZyL1b_5jkdf-idlNQX71uBcjpoH9Sl6D6TfULJQ3lWhwHNMWXrBzKuKxqByoPmuEeBqEiTRrL1HjTYkGNRS-XDsYJ9BuNy0)

–î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–∏: **Device Registry & Control**, **Telemetry**, **User Management** –∏ **Scenario Service** –∫–∞–∫ –≥–ª–∞–≤–Ω—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —É–º–Ω–æ–≥–æ –¥–æ–º–∞. External integrations –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ Device Registry –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è MVP.

**–î–∏–∞–≥—Ä–∞–º–º—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Components)**

1. **Device Registry Service (Device Context)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=ZLTDS-8u4BtpAxJiOPEg95pcjASXm32f3Ha2P6QsQgieOJT64rloId88kxN_VLiVjeKmrEH0sItfgVlrqvFpKMagTLNalLyOJ_8g1RBJkbI_3mQIxkyofdVLfb8W4y4rS7sNY69GvfIRDRTAfpdR34OVRkScz39x71HKQP0OMez4KGfkrfG6l_Su_FFBoshzxM7rUVqucKwUnbVNlPvcEWSo-a2QwMJCQ2PfGMx96DvO0cG16LDQ7iWIf0rS-O6HIUfT8unveeo3lA8bcr8DUtgu8VtX_87ujpw-_Y5uDdYQFZnzDsyBKMbGHCBV5IYjY1QaO8aKoksY-jS1R6ftDEzIvBWuo003TMO6TlGhkNkQh718sdS_4uahA4yLmH-2h6iW-4upAB3cewqqv1Z4Ud7ngduETtWIATpzK6JoNafGgdyqBwMQucPv3ebcWXyXgmGubKnuB5otz94GVdxGEy799-maycSYmqgBWXeuKaCSixCJg95PKmuk-MmYf0rrR33-GNac-iraGqmk4hVF6yrPIdq5lUK1LLMi9-_w2liDajDy1KKvB1ckdlW8CI6GL5SIYC_y6r2z0scnTJ1iMEg7kbdVYugdL1vyfslDjGsCLTY_9l_s2FurolLBNLP-bSzZof1G53NiXNorufiiLsQGR8KagPS89fMBBD35Nxmv1D9jRoa9mjXqQbi-MhoCWxW-bD0Df83AP6SPsR8SgMCyGofC9L4vFX_NH1c8tkVf1snzjez6yWJj0WbL2dkPiQIZlgxiEpErDQImPPoPgbKmrCg3o2e7ErId9MH6EVkd5az7ORM67j0-CaTfgACWtDOM1CaURP7K8AQBTlz8VYJ9cQ-dLg4j5RXaoIugTSjaiQUui2fnagjdZixC8MPFTPVa9drrj8YWMKseBUMKGoE6DrJ2bYMnmD2tIenjMCxqWIGxI5vTTb9eWJuJm9ZmieIaWJd1N0GYFZxYNLrwmzzvjScPsbdvJKo0D96s83TGkW6KixLob21AYcoaU0LvvY0HkyUHUbm3We7wsA1bLme9GDCAXqDT-3bk48lwBp2OyIPobl6cmrl6zzOWXTAPXENpOtY1k0HlcaDpOm-8kccLY9VqbcN7rknvkBSq8DhCy-82rehePiFqxBbb4bC1MZXVwFr6ceF1i5P9xRsYUWl8ZoxRqFoSCwX8kjRgLwlvSc3S3x4DH7InXYXUkYqEl2DBmDqjOf0y4B58mRrv4QNcBmAn62StP8Wq1Ts0C8x6LZGU4UC4oqxlnZOZEpPeBht0AqELnXjWIupgVClhpwQJvWGvT3Xv3fbDuTYktPboM5lgFe8Yh5EdQUkflwNEmSHvNCBoH2Wqb9_6EsFird5RoBhvFuKOcr3zh9hhsX_tYym59Lv031pvF2XsVspk4OLecEC5Ne-SPedJEqyakinW-cKnEvTl1zO2QAfExk08B3OEtm-dpSv6dNxQVG9j6xSFBj2Eqn3xlziYuZasmfRssbqQoeUpvxb1_WWynVzToFy0)
2. **Device Control Service (Control Context)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=bLTBR-Cs4BxxLx3keGcmYIzxsjFwXSHjd3gMqmTGmA3fYSLM8bMIoiPRzBztXjHRCj8D4CGSShvvVJFZVBQE6vUdoUWxgKII7u75pcNsqsHY-9VRatHnViWj6A6L0-LkXKudMS8LwTnOTqpaOJB_UBCXqVFwOP9owy2WQ3_NQQOLwMI4FtgO_lxpysx_wsftltzOtYqV5rVNev6JBW4s_yYgvsmX-SdmbDsm1RnAWRTes-Y4HM3y-QeKq5zuSmX3dxXKOAvu9k-uWo_y_86DfviLAqvZFFwarMdoUBTw_8rEMvqxiCp0tpbOPvdJB9N2Q1lCsF5r0_ReNTd2ILfd2BhmhPIKpX7mdHxN3mHtFD4dnjMHfU3u4SyjPChkcYj-WXIZHyLd5B1QqaJ-aRzo5cL6gXERQUt6vNEUknZVIhGcjVB6CZ2fj1QFxKXYZHPR1kz9Si7YvknY15pyoTN9X_MWIni2SsJPAq_aqKlGoYWwO_dJ_VBDNTaKcHMIO54lecDHKKj0AxrZ8Qls4qlaANRux8J5mZ-2fs0uVh2Wh3OKG1t1VgPpTUJcN1IbO4ETyWvVnjVidn73dufYLoAyc6OIjShdI1RoQnfjRX-NEtnjV0QsosX7T-n5cy9XLkZ_eIgEOb-ab7LGnqnBvMpZ3dlC0KEM6GbUlWMUt3YPLa0CDS2yS05qFUDEn4nZ0NrUANfolnU3jtYFlmaO7qTmeP2Gx_FlnusBp6Wg6P67ZdNbo6ZvQ5YApkUernGP8DeZjQLeYssUk8QjOUzzJWBbJ5svo6Ug4DS1jFAOLZmbiq73dfM8ZLRoQ-Lvk11Sn8NVGH1Zjsfp3XwhbqGAHoxh92yeFE2hmN9HjGgYX6pNDQp5jSVrxR7cHwwA_YJhwwVThY_T6EsqG4BWdCYG4hPmL87mJTSEVeqPnYCpECakPhgWsF8L3vlya4WR-m2yW5MIslTmaOKB8WiDniBImUY_mFIuBM8S3y20D6sJ3V06mcUsTHSu_y9bafkcLjLBLRpX3WFxjp405eTsvoyE_TvVp48PZj9s6KJp9RXdFJ_W0pDrkRhZkOXyvWD7f3BdGU2DyCD1klLJdJjS2C3JK97H3mod8HZ5YoxdFZ8xsaBIMbP3CycM4vAmxtUxJJIXSOImfDtKwEsdNq8VGmc1fS0hK66i4zObgDv2gg6QE-KTbFwQgM6IzWxfGc7ALgf8cQY-5lIIrxJM6uQRC7_GM5dhGF1wqje1fpjJANogCkXlByEqFUX0FMSXz6_261my4NZYlXDLs_mm40xDRtJeqYmfFzjw3uR6_L_UlOyQfinbJ6JC0XkNqMn7p04R_O4nfzPlrzPMCwCQn1SIqOUBq7GZVbgOC0X7lWxi16zcg4xTxr6zyjCccL3_bCbjALnONfasBkGrxu7GoEhiW6QdTElKdP1DCeHXN1Tkkdxo5ZvZ5FXV0ViF)  
3. **Telemetry Service (Monitoring Context)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=ZLPDS-Cs3BtxLx2vD9bPnvSzzRIExIQUsgaJQ_inqvaCBM4bRYbIIrBPU3lzxmL8VL6Ec_N9WWZm0NXuq0Vhk75rAIS_29NAEWDME5VPdsOpmxzUvy8LzQ6sO5Aj72XtdUfoLacko6TgNIR5ORPuFzsHwUDsCokvTM3GzBJGPQKL-LGKVxAP__dhn-JfztLozxHPtQxkbvTNauaJJW9Rl6VTSROKF3UyP5EMW8GId3coFPXdaGAxt6ebd3P2vUY1a5uS1g5_N2WmbxmIjzp1LtvynoxckpLhdYxmyHUjyjdzxVh-3tfwrBK3omnygS4wovncfKYDjk4cUt4r29i1sHuX5nRHeFVI6rXhQV5Hu5jzqHz0z3pZZhDdBWN-4Lf5WMqAYXkX6tzqt3UMOSZTqHLQiP-njfYJHmyyiyo2ijemVy4d_6DgEG9UQ6pUbYkUOo6LGyyxih3UzCezoyzSvJwBZKuzvW5yVv5h6uENJVP7R7dvj7fnbxP4DeNKBUL2ZwnvfdXhdJIWBUCgm_9mM_jcPj1MlKV_TADhbN5plEpkw-jqmesBA_RFXE6lOrBlDgz4vD9KSVLI6R3s-hC7zxZQ9_Gcpj1NzoyrPKkgCf85JQ2oIWlbBDcn5NBgH0cX3qW7uAL_SuVSGAgcN8PNFCKC_PkvulBeH6hxK9WvWHzbG7uBBIMa68beHN4w0w6-rnaq2Um7T4Z36MmOtRTzI99WnreZtHlpCcOccNP6EutEhC3-I3pTdLFQb7ZqMqlYLz1I5N1-15WCGxbwp0bQfy7CEli8-l2Cnrc5WqC0FCyDv3m2ZtBaMzZOvaeZHkmPk3vvVz00oHVnjz9If0BE59otdLcf73b8AjBrAfX6o6-u5Idht3ojXR8YBm8zzWuHOyM91VwK5TwU66nz37Gk0SSb1wH-dEMN6WllZgGcIASpo3l6hfxnSLSVfB05K0EyWNMMKGBXRHNUqYYI4c99KH_OmUY_mNW6-KaDYW7a4P8eiFY5bXdZXDqEUz2VwYlO5WOp-7SmwCj3ZtvvY2QLyZzmwwk-Lfza_RAy6HEc760ZyhnhXR7m0tYC5B59xSPdXe6sJQh1u7M07mx2RH_wueIPnjgGFFt8KEd0O4wO3lxXldzsyWWoMZyZyNce0zXOMEYEkoJPxMUaFXYUefmiXL6e4_5lemo3n3ud2-otCFKqRl6cUZlMwKxfWybsOSHROXGJQxXMJGtJRk-VL3E-zdLnQSlQw0LaNK4QYhDIPyrQF8rvEkstu6nlFXzd9ColWqD1naRXXzHRe5xpFiKMmdrlfcE4P-MX_HyFKXZVy-5Fu7tF1RrC_bzufCSoh59ja6JdInIBnXwFqu2DLibGETW6eNOxxirCVDYMOKMypQEm3_wpO8EVJJK2Rb88SuNyBcibmbY4yOu-aiORFZHvDDoqlsSBFTyr0ZIIx9ZPu_gF5QzlHwz5VJlcsmT_omV4WT_jx3y0)
4. **User Management Service (User Context)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=XLPBSzem4BxxLwZqq6Gcn9USUYh1b90IGcFIj3ETOOGjR3Msv4fo2EtqltVNxnSJJcYb_NQ_Rn_mIHkgJ1f7rZikl2Zr6GcDIVH7srRqS1bm4wQxL3FbIM6OC9UUZEqaeW9znjhu4T_Pqwln6asFTqixfjem1QRjLCQ95EYJ8BwrdFouVznidnQRc-roDf-jdBDpopBSH8nChqZrd3YS1eh6P4mU8J2veu86BCORbwaNxZ5ojl3XoCqHl22jLmD0-8romTGPJVYS6dQWnmiocgmNf3YDuFX5Yi1UpHUhxtXwaAbXcYZsEsNQQ68aYRcdfCxZwD5v0zPdQCEpaX4uEzcP58OoDuITlYUNgza6hbHs_aOZxbECX4gIXAcOQysbQ0VG7XDKSLaWWQDRM9hWwwC9fI2VGMVWreOl4OWy0A0EUT8A44g8Nyi9hZTe6L2u4SZvHKKWqP1Leq8cBtbOe35goh-zbgdmgJgU8TbMj1Fb79sJlnQ1JzK2cUiauQLFGTHD51S1kPRIPDMRkHky8dkfScNZ2lkdABf7iO1hex8yxKW6NE3LMiazXxvhEqnI4s9VUTdhx5rLgiPJe8lPTbAcu9npKzXsBQY2jCAiR-aB7VLVKE4JX92A_wd2tpvje2UVcUWakgPQ7wJo2HEUEYRbSvTrKqNhFKOY7EOaK6Mv1l9FSabg2fbyfL031BBxP518a4rBGIE82hM9QpaLspC5IKEljZrMql1zgOLcna2XTLOJpuD-Cc_ANmzLpQ1HlQ42U9269bunlrY0ncHYx0SPiV6EQWQbQJskkglZqAbfFI454uHGF0YDRlFvrvWVPvTrlxCR61ZdEXjCgKsWcFjrMPP1NsIzKuU-A0i3D-rrOtqWirVOq7bru0lrq45R3ongRSvw1FC4ykMbSvqAS8n_izciNHjd4T0HfBTbQgJE8gotL87JXEcisvCWJNe3CBsbEWGqi3SxK23RGXIoUTKlLK_02lpaDYXrB3innzZJ_DUcXT6RoB8GJVdVmXWOYvftHxjXh1QL8RnfoBndNOv8tj-duRgiXX3dp0nNjmy9XN6eeKGRgS2xdt4rJ2wy0CvuIO1-jWDWXkpRzUH4QbtNjB7nz81xdqaNeKEdzhS-CU73toJo7m00)
5. **Scenario Service (Scenario Context - CORE MVP)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=ZLVVRzis47xtNy5v3qk0E7xfqvxgs5gQrdOTssatO410IOpCHY8rah9Z3FlVUqVg5oKvM842vb7yxkwxku_CHsseCaMMZdxX8agBc963CRd-VJfLz7IRS7Cema8p5KbXc32taSocUKe5dfbe4wSydCu_J3PeUbejfndLXYamFSzbbak1PtB47ordVtrzsZz_VzX_Ubu6zy5wSNKz6XbkKaRc7qZzELbmcYYQaGdPHKnGnINPCNNa4IDNjMMEyRmP-6Z-THkGrRSDWA6HSi7K5StvFJNiHCytP3pRF91oDORb5ocIwVh-OVqdhhQoC4mJnVufc3QQ64ao7YcfdKizlcx1nWnjk5OoXSCBkoQbeGeJOUU_ajjri8SjPTV16uki8mT1WCUCYjY7Donb6JFgN0B1kNrbQeElPSnkVsWIlEMAQOscZP977WE-Pa9BHM9gg8UDHLnHGHE04mPEF861D9Os_cTwf6INAouISYUbGTitcd80HGzL3UG9WFM1vvwZWmHNdgTFQBdWQdCs1od8uWSLYHnN7qzJ6L73OUFetEBF5qYhyesyDJwVxsGXOghELzL-Gs2tXyRNvDyHWNzrmzM7PZbl7u2smO3-W8ukVsw3tHxDNYWagnFxMxHwThvzMX2PCsMZrxYtLpn9W7N_nAmmCdCfgY9bsaDXjczmBt9D1ebZz9qKy60W4Y03muG5SQk6OjkKq8o4-kv8hYIqkOPQesFWDEPsam7rXVqExHQp2IQL2O_SzrcUihU6ZPDKho-fFEdw5FIHLDoSMsaF9s4SFQvH53P_oLTfyPEfDc6Aa9ioQf_Qu0W_9Y7LB2ObkYi4pzY0UUTcnnnWgWuozJUhJ1jVbeJXL6Y4NxYXbvZAp1f8PV5JgQljZZKyez-59nZ-tbeQ_iBBKN67RQoh8ZKSv9dbRMiP0pHH6jBeTJXoXfJjYb17YeUs2fP4qfZysDskThkv2mJ2zBkgp04k6mDTX2TS6MfnQsnMbYeUQklk3CbafG42_wyr_Okmdk15s6Pp0Hg8HRO1IsqInNQFIrnrH-wchlHDKr_uZQBfQKuZSnba1vrsf-IhPMdbriGPh5hGCEHczTXYoIX6C-04rUitQ0QuAWLD2OUxJ9M56crPwbrVlZgvKT3jAMxYG_dSxpUxAGeL-40extZl4dXNrKkuYsXzfM_W3hwC-zhT0GOg7aH9HLG_0tgaUBuzmHiWnPQrTS5Oj1VgBlGUMazvAiIgBTv3QeVI0mgSYW9KqrV_5wmd8lKZegJbFQ1k91vXfNPgTmCqIlyUO4yOUhbktCmtj5NpUW4LwZw7XvQUb6yjh-IsPRfww8QZGqltKLOdLpwrMcHrsxaBDV00sp8QG_4AfUm4jrvN_Iv6mO4Xbme8wLNJroZuw4B3WaHDuVyiZGuiEr-evX1OkrS7GRhPUY1BcUWUtuDGg5nMpXgDj_0THUnV95iMCNuSR8_Pwd63q1-PYE6l1V8J)
6. **House Management Service (Property Context)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=bLTBSzis4BxhLw3geVPCR5vowYcog3Xk9LcMvAJjTCO3KH29X0HO0BIZTFhVim08W2_9ZIyc5zXlNz_kKk-ama9LHJxwYR8ah_O4PKgLyjSe4lZbEgKggtQL92BXJ16chXDUH6MEcTQvacgVqrqqVNkrqgB7nJmgi5H4WEXfoekICwrJQlpHVFBd_UFswTFTziFJV7OxMyONbwEHeYedQFeM-UiefZWLk41Nw0C7qsY16Kv9eOysH3pJXA2BbU0b4Ue8Qk3NLmL8-WbJHiG5BkajLkG57z-WyMHrX-gtCRp-pbaQBM_lbd_ejpMl5958a7yg8fL4YgE29e9BQqUEBnkmEWt15z1-1C60TnhuD_oCqQOKbANeXdCrTjVv2q39Z9Re6UTqZnNbh6LbJpJ6cgHKAg43Y8q0EKdJoYqVXmivJmpQUM3zBdWUr6f14tRwCxfUphPm9Cpxt27Z178YJnbG98SyW8ir56XkdQW9l-HxSlrPejdNKW1SoqA0HWSka8Ti6P89OLXG7kniQadJpEgeCe1v3uG43cY9eLCqa2TZow7geWTZJpUyOdiiZXUPrcxL_nGznvVetn62FyzfgpmfgTUgNOe_OvPoj9vjjkWza9wySF75C5DBD7UrQqOR5TxGtyprndJz62FT2YOEgGzyBjlt9xPsYIstblWU0jc1ffLm9TMkT_mlwxisMA7JwxHhKKYvJpN2R8-Svg3xEJsGv9ZatU0yUAYH5a-RZdPKxaDZ4K4FD3aJZQD0YCOdRJ2Qq00GaE2ywDXUQr56eGeYoOvQyXSOGboacD5ltlq1bclnfeH7dCCKocqL8GWvxBXjmE1sNTH1fzi5jxKWeg1IEgQOWLJtT2V__cBNrmoRcPRpb2ODMldWX_qs19uzm-EgskLKPiPx8q1UqdRV7fRsK9lKinbCWPTe9_WN8WAD4a5iOebMQdT1aa67aSP9xN71zvubZLFFlAg4g9qUHFLVOoZ4EnjHl1kQ0l6DYOHBbGgoUPZxVf1l37dWdoCWF9Q3NTZUF7NSDoPiG5lKUR02CoxmRaVLuY5a3dO5mGKaJe-pNs3Ombfcm38A-rBWn1WPhKdUsfQDCMK3abOa3NsyroQYxNQrYVIO0WCQ9-Zs5kL7oo60gLexqE4u6F3pOnZAVYiV1BGNLq0Hv1QpiTXTbGtlWyMiFVJrEBLwW6yKxPpeU1BW_S8SHC_Rgt48fhyMpoErzzu0O6_z_T-umuRhv_sErVn8_7TOZod1JdyTjEZYpYcHZKriy0xOVbQryVe3sU6rEFSwK7T0EfXGdbCOlP2wK26rBVwUmkk5rCzPfrXcLCEtx0zvEJnPtRD3hgVOZxZx6h1drklOdKo-XbnlfFEuGDaOAmnZZWk0FPCSCwGtSCrd0tAEDIxCvgZ-0BjVByuceWdY8p-BCnHq4wMEyYI6djcT5HYutirUTq5qwXyD56koU5XfC-y8syFlC_GT)

**–î–∏–∞–≥—Ä–∞–º–º—ã –∫–æ–¥–∞ (Code)**

–î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã:

1. **Rule Engine (Scenario Service)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=hLTBRziu4BxhLx2zr47Y-jAJK2pgAbhKW1-5hUIqG41B4vjOYLH5scdHx7_VuKiMPUK1fBau_3WSVlFDS3p-8XLjrA4getUCv-MX0B9NgfRnPDBGXuyxflQ7xK52amkkWAkFkQWcTKcvFZEMgYZPTf9y6d_NqCrYFgceLD0WT9U8gXPSdwcr_qWnLG99Ff54u2tNZEuQMf4nMHyGJlcESI2ZJGwSDaoG3JH7bWFk9wjrIfBrB9ibq_b55EKbbTASSeT-HmJ_nWqYCYPp9jLdlVkNXU6853Q7hSmRjeKc9ca8MAkzm21lQSaAgWGQVGlMnkQoRaGEKfhp8-Cs9bd3TZje37OHawDWXJMcHQ59Z3IhsB0DjXken15QYraH4waQndU15Vo4_A3WEKT7oz7OJ7FDhsDvHNJg0kTR8KgWFFglAwINaBMMTirf1I62sTcMK9py65HP5LevB4fpnGJtAPcQbKjAIAkJWZvOYfpgSptyig8gtuDy8WrTSbx4qQ1iexxrdaehOoRcxkxHooAw-xsEwbSDBQaC5nOkG9TqFqHyMGNJzuGmCZp07nV3nzt6DXIDJLKOZCLUZgMgAE-1DSM73jWLi1GMjFvizwwSZQi8R4CxKFCd8dmsX_wGA_zNPyi8vACqscKcr2xtuJ07SgDO1TXBgpeccfDUlhtKMyQzdkL9Lp-KIafcihve_p-rGziWuqwpjCf9xoaJnhCCXHNSe6l8WHsXUAxNzMecDNaIBK4hNuBV7OqeNKkFoVK0wXgEKEoUMHrQy-Kv-FgcxIh7Ncb9ZcnZyZKTX2w15ztxHfXLINTjiWSwwdb1Mh_j4mklUqrF3WFnOffm5vGZdKgNWzVdso0UKhh1EutTu2Ev8hsAVAfjQ3VFFhShSbx6JpcpEMbbwZ-r5ro5Ofs5xqJhvEGjSRyvPknjBuHxqNtrm0zLz_l3HRD9bvlL-kvsEhz93P3D5kdTr-aclJRBw_HsbgHtcsoQsVtvAfbcizNIsNZFfsRk7Bk3oMgPhLTp0orNsUplcJqU-l9MwEq3MKDfuf5xLikeCvKzFex7uhTfFNtuyV5i23kt21lAW47ljHiBl-Vda1P39jPX5FLxQNZ4x4PHhvqDNzbxfbsZy-SOOMy3WfVi5H7ttVar9k-dU4jbT2IvQ80yuDnDNF7ftl4F7vFlTlm4IKm_bXgp114omwz671s4V54IQefMRnfgvCIDC1pgSGpNPkyTmwrGoCLJrEJCfs7KkZI_1dugmylFFfV43NpjJPFMVijmnk4xlMEVK2Su3Ug-GiG3nna1wyXJAU7UQDNJMUlLTnAVmhFX4fo8ydyrEWzrE6tO1zbZOdtu9XBgymM_7F2d3FaV) - —è–¥—Ä–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª
2. **Device State Manager (Device Control Service)** - [–¥–∏–∞–≥—Ä–∞–º–º–∞](https://www.planttext.com?text=pLXBRziu4BxxLt1xMHUDcqjFGb7KbGF4G9nauwIB1Ge4j3InYPL8bQISkit-znsIefwKa_RK046auJo_6SqCyr5fAdMPPvC_64-oCWMoqxfGqUcff8zljqploasfG2Q2Q-3wRIBoqoAZtCZCb4upjZcDtysk3UbkTN6QKwL18ka-5daXk94fZFw9PZe34hyZiK0h2qQtakPaHXQmPmcGjQOQo8fokWL9fXKrHhDIP6GDqhxFI7opl5t6yulNaqcIKQKgUIlkfNzC2FxC4fhi828ta38LcsT7bb08nRIGXyXPlQa9ZW7swFLrkScOse6Co5ddtV5a8g6Q2VwPPYobA1kHYpx9ShxPWevBAL65DJPDhR_BD29AIyQthwDs24wcB501XFbF28T7UzGHH3KR8JAWtAbG1vxyZUbpB26hUy5Inxjt7Zj5yOxoBKmJvtF7nWd1Qi5uZXhsoZmSyoG1fG9XcBBgEEJL_1T8hSzfNusZ5b8K83K35M495U-z2VVtWsFIB0Sizxo8YF7FlBg3FKY5ZaQ4SUqeIfGoWQeyrlQbc_Q-0pk1qVI8Rv8CwtyQoYzJjaYcVUmGssiNoc7wBnnQsBJrgZ3N2K7eIpYQOP-KQGZkvaFnQ4jBoPWjX9lcfG9KPmrcnlSNrROAy9bC1GgwyH--CQM7HTJ7Zt4VwF62jvt1Ox7a3oBWqJ3LNaKDMAzxr3MwmRR58T6sg1PKqmrLqD2S3m-CfvyEo_HbeD4zJ9_121DmZYYX8u5ei42bijb2cGjaUzzIyw7TTUeI-IL8khtI8v9_rTgNqQf-TbOBnzpkFKFB8ak7BM-y4pQWLDhFf1Goe1SCFLWYbM2lgUFJcAf1E-i2W-Cmfpmznz-i0KQrnbOK66NjfbSLaAWPQyBFZYJu1ac9Q3kN0h4axgGnP5_7EhtNyqjITRazAzqR2nN3yS50gu-mComeBXw0MygnOT7DvZC3HCBN4a-W3gO_2UgkD0R67Pgh1kMnYAjyl-IpKi3J5oGut4UnbJIrM0RxRc2cET8LpnWFzjzWv4vejEc4q1XKjSV3Jc7tvUHctt9BOqJEW_HX1fmlLHww5N12NXfGR-_fgmdsq33unq1f3w-m_T5UYarpMASXdCEmLM1tWFljOpxgmQ2mZ05VKp-pySquDfPUppWK3GKD0I_pzbfPcLcSVLx6P_OndiVdxcanlvr_cg_ToztwxEO-lbgjvfSBIxYuYkUtowlB-_K_bx5H_ITkQ9drLUrOeIQ1Yz7JqspszDI-4OqpzQz6uvoz-z4uut0SZV2A7vt-CkaDpqfTO5mUOsp6vN4kUpR2CunWqk_DG-Scas77ghX6EjCeV-SJc7215oF9jZjDn4Fe8XoHL-xsbDSco2DU2ic-NcUYBtpc2eAOhHZBr13yqahCDN8d1MVVBRSvSnzPIuKXUiS8jIsWTsehX5Gh5PfuLVc-4LgBt3W_Z1XzhvNst9s7R3JC8Da3I-e3Yt7z7mJSW64hXr9LyDwp31uigBqoGAVyth4p99G80kgPkYvwltiE1i8qvDLVjxV4hMf8GSS-uaWlyupy3m00) - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤

# –ó–∞–¥–∞–Ω–∏–µ 3. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ER-–¥–∏–∞–≥—Ä–∞–º–º—ã

–ó–¥–µ—Å—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ [ERD —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã](link), –æ—Ç—Ä–∞–∂–∞—é—â–∞—è –∫–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã, –∏—Ö –∞—Ç—Ä–∏–±—É—Ç—ã –∏ —Ç–∏–ø —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –Ω–∏–º–∏.

# –ó–∞–¥–∞–Ω–∏–µ 4. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### 1. –¢–∏–ø API

–î–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥** —Å –¥–≤—É–º—è —Ç–∏–ø–∞–º–∏ API:

**REST API (OpenAPI 3.0)** - –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
- –ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π API Gateway
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**AsyncAPI** - –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
- –°–æ–±—ã—Ç–∏–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —á–µ—Ä–µ–∑ RabbitMQ
- –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ —á–µ—Ä–µ–∑ MQTT (–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ MVP)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫—ç—à–µ–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∞–ª–µ—Ä—Ç—ã

–î–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –¥–ª—è —Å–æ–±—ã—Ç–∏–π) –∏ **–ø—Ä–æ—Å—Ç–æ—Ç—É** (REST –¥–ª—è –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤), —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ MVP –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

#### REST APIs (OpenAPI –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API |
|---------|------|-------------|-------------------|
| **Device Registry** | 8082 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ | [device-registry-openapi.yaml](api-docs/restapi/device-registry-openapi.yaml) |
| **Device Control** | 8083 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ | [device-control-openapi.yaml](api-docs/restapi/device-control-openapi.yaml) |
| **Telemetry** | 8084 | –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ | [telemetry-openapi.yaml](api-docs/restapi/telemetry-openapi.yaml) |

#### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è

| –ü—Ä–æ—Ç–æ–∫–æ–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API |
|----------|-------------|-------------------|
| **MQTT** | –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Üî —Å–µ—Ä–≤–∏—Å—ã | [smart-home-asyncapi.yaml](api-docs/asyncapi/smart-home-asyncapi.yaml) |
| **RabbitMQ** | –°–æ–±—ã—Ç–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫—ç—à–µ–π | [smart-home-asyncapi.yaml](api-docs/asyncapi/smart-home-asyncapi.yaml) |

#### –û—Å–Ω–æ–≤–Ω—ã–µ API –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è)

**‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö:**
- `GET /api/v1/devices/{deviceId}` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ *(Device Registry)*
- `GET /api/v1/devices/{deviceId}/state` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ *(Device Control)*

**‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:**
- `PUT /api/v1/devices/{deviceId}/state` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ *(Device Control)*

**‚úÖ –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤:**
- `POST /api/v1/devices/{deviceId}/commands` - –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É *(Device Control)*
- `GET /api/v1/devices/{deviceId}/commands/{commandId}` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–∞–Ω–¥—ã *(Device Control)*

#### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è "–ö—ç—à –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å"** (—É—Å—Ç—Ä–∞–Ω—è–µ—Ç –µ–¥–∏–Ω—ã–µ —Ç–æ—á–∫–∏ –æ—Ç–∫–∞–∑–∞):
```
1. –°–µ—Ä–≤–∏—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Redis –∫—ç—à –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
2. –ü—Ä–∏ –ø—Ä–æ–º–∞—Ö–µ –∫—ç—à–∞ ‚Üí API –≤—ã–∑–æ–≤ –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Å–µ—Ä–≤–∏—Å—É  
3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–ª—è –±—É–¥—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
4. –°–æ–±—ã—Ç–∏—è RabbitMQ –æ–±–Ω–æ–≤–ª—è—é—Ç –∫—ç—à–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```

**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è:**
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Üí `events.device` ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—ç—à–µ–π
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–º–∞/–ª–æ–∫–∞—Ü–∏–∏ ‚Üí `events.cache` ‚Üí –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö –∫–ª—é—á–µ–π
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí `events.cache` ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

**–ü—Ä–∏–º–µ—Ä –ø–æ—Ç–æ–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ API:**
```
1. Frontend ‚Üí API Gateway ‚Üí Device Control Service
2. Device Control ‚Üí Redis –∫—ç—à (–ø—Ä–∞–≤–∞, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤)
3. –ü—Ä–∏ –ø—Ä–æ–º–∞—Ö–µ –∫—ç—à–∞ ‚Üí –≤—ã–∑–æ–≤ API Device Registry
4. Device Control ‚Üí MQTT ‚Üí –§–∏–∑–∏—á–µ—Å–∫–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
5. Device Control ‚Üí —Å–æ–±—ã—Ç–∏–µ RabbitMQ ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—ç—à–µ–π
```

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ API

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** JWT Bearer —Ç–æ–∫–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö REST API (–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

**–ü—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è:** `/health` —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ HTTP –∫–æ–¥—ã —Å—Ç–∞—Ç—É—Å–∞ (200, 400, 404, 500)

**–í–∞–ª–∏–¥–∞—Ü–∏—è:** –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

# –ó–∞–¥–∞–Ω–∏–µ 5. –†–∞–±–æ—Ç–∞ —Å docker –∏ docker-compose

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### 1. Temperature API Service

–°–æ–∑–¥–∞–Ω –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å **temperature-api** –Ω–∞ **PHP + Symfony** —Å —Å–ª–µ–¥—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é:

**–û—Å–Ω–æ–≤–Ω—ã–µ endpoints:**
- `GET /temperature?location=` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É (18-25¬∞C) –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –ª–æ–∫–∞—Ü–∏–∏
- `GET /temperature/{sensorId}` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –ø–æ ID –¥–∞—Ç—á–∏–∫–∞
- `GET /health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞

**Mapping –ª–æ–∫–∞—Ü–∏–π –∏ –¥–∞—Ç—á–∏–∫–æ–≤:**
- Living Room ‚Üî Sensor ID 1
- Bedroom ‚Üî Sensor ID 2  
- Kitchen ‚Üî Sensor ID 3
- Unknown/Empty ‚Üî Sensor ID 0

### 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–∏–º–µ–Ω–µ–Ω—ã –ø—Ä–∏–Ω—Ü–∏–ø—ã SOLID —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
- **Controllers** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- **Services** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- **DTOs** - –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–ª–æ—è–º–∏
- **Interfaces** - —Å–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 3. Docker –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**Temperature API:**
- Dockerfile —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–±–æ—Ä–∫–æ–π (PHP 8.4 + Nginx)
- –ü–æ—Ä—Ç 8081 –∫–∞–∫ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤ –∑–∞–¥–∞–Ω–∏–∏
- Health check –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**PostgreSQL –¥–ª—è smart_home:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ë–î —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ `init.sql`
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Go –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤

–ú–æ–Ω–æ–ª–∏—Ç–Ω–æ–µ Go –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å –Ω–æ–≤—ã–º temperature-api:
- HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤—ã–∑–æ–≤–∞ –≤–Ω–µ—à–Ω–µ–≥–æ API
- –û–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–º–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–ò—Å–ø–æ–ª—å–∑—É—è Postman –∫–æ–ª–ª–µ–∫—Ü–∏—é `smarthome-api.postman_collection.json`:
- **Create Sensor** - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞
- **Get All Sensors** - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞–º–∏

–ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 18-25¬∞C, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.


# **–ó–∞–¥–∞–Ω–∏–µ 6. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ MVP**

üìù [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](apps/README-DOCKER.md)  
üß™ [Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](e2e-testing.postman_collection.json)

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç—Ä–∏ –Ω–æ–≤—ã—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –æ—Ç –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π. –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª–∏–≥–ª–æ—Ç-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

## **–°–æ–∑–¥–∞–Ω–Ω—ã–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã**

### **Device Registry Service (Go)**
–°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å PostgreSQL –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö.

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–Ω–æ–ª–∏—Ç–æ–º –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–µ–Ω—Å–æ—Ä–∞
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ UUID –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- RESTful API —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

**–ö–ª—é—á–µ–≤—ã–µ endpoint'—ã:**
- `GET/POST /api/v1/devices` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- `GET /api/v1/device-types` - –∫–∞—Ç–∞–ª–æ–≥ —Ç–∏–ø–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- `GET /health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### **Device Control Service (Python FastAPI)**
–°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è.

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –û—á–µ—Ä–µ–¥—å –∫–æ–º–∞–Ω–¥ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
- –°–∏–º—É–ª—è—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥
- –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –¥–µ–≤–∞–π—Å—É, —á–µ—Ä–µ–∑ –µ–≥–æ —É–¥–∞–ª–µ–Ω–∏–µ –≤ Device Registry (Events, RabbitMQ)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Device Registry –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–ö–ª—é—á–µ–≤—ã–µ endpoint'—ã:**
- `GET/PUT /api/v1/devices/{deviceId}/state` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- `POST /api/v1/devices/{deviceId}/commands` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥
- `POST /api/v1/devices/{deviceId}/ping` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–Ω–æ—Å—Ç–∏

### **Telemetry Service (Java Spring Boot)**
–°–µ—Ä–≤–∏—Å —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º InfluxDB –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤.

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ—Ç IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
- –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –¥–µ–≤–∞–π—Å—É, —á–µ—Ä–µ–∑ –µ–≥–æ —É–¥–∞–ª–µ–Ω–∏–µ –≤ Device Registry (Events, RabbitMQ)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ Redis

**–ö–ª—é—á–µ–≤—ã–µ endpoint'—ã:**
- `POST /api/v1/telemetry` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
- `GET /api/v1/telemetry/devices/{deviceId}` - –¥–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `GET /api/v1/telemetry/statistics` - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

## **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è**

### **Database per Service**
–ö–∞–∂–¥—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö:
- **Device Registry:** PostgreSQL –¥–ª—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Device Control:** Redis –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º
- **Telemetry:** InfluxDB –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤

### **Event-Driven Integration**
–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É –º–æ–Ω–æ–ª–∏—Ç–æ–º –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏ —á–µ—Ä–µ–∑ RabbitMQ:
- –ú–æ–Ω–æ–ª–∏—Ç –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–µ–Ω—Å–æ—Ä–æ–≤
- Device Registry –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–π
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ (Strangler Fig)

### **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**
–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —É–ø–∞–∫–æ–≤–∞–Ω—ã –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ multi-stage builds:
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ docker-compose

## **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤**

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –º–æ–Ω–æ–ª–∏—Ç–æ–º —á–µ—Ä–µ–∑:
- **HTTP API calls** –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **RabbitMQ —Å–æ–±—ã—Ç–∏—è** –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- **Shared Redis cache** –¥–ª—è –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏–∑ –º–æ–Ω–æ–ª–∏—Ç–∞ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã.

## **–†–µ–∑—É–ª—å—Ç–∞—Ç**

–°–æ–∑–¥–∞–Ω–∞ –æ—Å–Ω–æ–≤–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å —Ç—Ä–µ–º—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏, –≥–æ—Ç–æ–≤—ã–º–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞—Ç—Ç–µ—Ä–Ω Strangler Fig –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –æ—Ç –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ.

üß™ [Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤](e2e-testing.postman_collection.json)